!function(e){function t(t){for(var s,o,i=t[0],c=t[1],l=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(u&&u(t);p.length;)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={16:0},n=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;n.push([0,26,34,35,33,32,31,23,24,28,41,37,25,38,40,22,29,27,30,39,21,36,5,10,8,2,18,1,11,4,6,9,14,20,13,3,17,7,12,0,15,19]),a()}({"+6eH":function(e,t,a){var s=a("PHJ0");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"0X8E":function(e,t,a){var s=a("cmwg");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"0iT3":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("p4qa");function r(){return{type:s.a}}},"1NE/":function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("/m4v"),o=a("FbNb"),i=a("4Ebc"),c=a("W0B4"),l=a.n(c),u=a("czhI"),m=a.n(u),p=a("z6Is"),f=a("+6eH"),_=a.n(f),d=a("9xwJ"),h=a.n(d),y=a("oi/j"),w=a("uEAT"),g=a("iE/P"),v=a("cGkC"),b=a("dLlt");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function k(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=N(e);if(t){var r=N(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return E(this,a)}}function E(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(l,e);var t,a,s,n,o,c=S(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={ready:!1,questions:[]},t.corrects={1:2,3:3,5:1},t.incorrects={3:1,4:2,5:3},t.here=!0,t}return t=l,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if((t=e.sent)&&["Bot","test"].includes(t.name)){e.next=5;break}return e.abrupt("return",this.props.history.push("/login"));case 5:this.timeout=setTimeout((function(){a.setState({ready:!0})}),1500),m.a.get("/api/games",{params:{gameId:"600b1491d42a140004d5215a"}}).then((function(e){var t=e.data.questions.map((function(e){return{text:e.question,answers:e.answers,correctAnswers:e.correctAnswers,number:e.number,random:e.random,image:e.image?e.image.url:null}}));a.setState({questions:t})})).catch((function(e){return console.error(e)}));case 7:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){x(r,a,s,o,i,"next",e)}function i(e){x(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1,clearTimeout(this.timeout)}},{key:"render",value:function(){return r.a.createElement("div",{className:i.isMobile?h.a.mBody:h.a.body,style:{backgroundColor:"#0bc2cf"}},r.a.createElement(p.a,{title:"Test Blooket",desc:"Pls don't come here."}),r.a.createElement(y.a,{name:"Ben",noRight:!0}),r.a.createElement("div",{className:h.a.regularBody},"test"),this.state.ready?r.a.createElement(v.a,{standings:[{place:1,name:"Ben@Blooket",blook:"Chick",cash:1502},{place:2,name:"asdf",blook:"Cow",cash:285},{place:3,name:"qwer",blook:"Pig",cash:43}],name:"Ben@Blooket",numCorrect:23,numQuestions:30,username:"Bot",plus:!1,myStat:"$1,502",saveStats:this.saveStats,renderStandingStat:function(e){return r.a.createElement("div",{className:_.a.cashText},"$".concat(Object(b.u)(e.cash)))},renderStats:function(){},tokenMultiplier:.25,questions:this.state.questions,corrects:this.corrects,incorrects:this.incorrects}):null)}}])&&k(t.prototype,a),s&&k(t,s),l}(r.a.Component);O.propTypes={history:l.a.object,user:l.a.object},t.a=Object(g.c)(Object(o.a)(Object(n.b)()(Object(w.d)(O))))},"1qV6":function(e,t,a){var s=a("TtuZ");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"6I7g":function(e,t,a){"use strict";var s=a("dLlt"),r=[["small",60],["big",13],["shop",9],["rest",8],["risk",10]],n=function(){for(var e=100*Math.random(),t=0,a="",s=0;s<r.length;s++)if((t+=r[s][1])>=e){a=r[s][0];break}return a};t.a=function(){for(var e=[],t=[],a=5,r=function(r){e[r]=[0,0,0,0,0,0,0];for(var o=0===Object(s.q)(0,3)?3:4,i=Object(s.q)(o,6),c=[];c.length<i;){var l=Object(s.q)(0,e[r].length);c.includes(l)||c.push(l)}c.sort();var u=0;c.forEach((function(s){var o=t.length+1;e[r][s]=o;var i=Math.min(80,Math.max(8.5*s+24+8*Math.random()-4,u+5));t.push({id:o,y:a+4*Math.random()-2,x:i,type:n(),connected:[]}),u=i})),a+=10},o=0;o<10;o++)r(o);for(var i=[],c=0,l=0;l<9;l++){var u=e[l].map((function(e,t){return 0!==e?t:null})).filter((function(e){return null!==e})),m=e[l+1].map((function(e,t){return 0!==e?t:null})).filter((function(e){return null!==e}));8===l&&(i=e[l+1].filter((function(e){return 0!==e})));for(var p=0,f=!1,_=0;_<e[l].length;_++)if(u.includes(_)){var d=t[c],h=!1,y=p;if(f){var w=m.indexOf(p);y=w!==m.length-1&&_-p>1?m[w+1]:p}for(;!h||y<=(u[u.length-1]===_?e[l].length-1:_+1);)0!==e[l+1][y]&&(d.connected.push(e[l+1][y]),h=!0,p=y,f=!0),y+=1;c+=1}}t.push({id:t.length+1,x:50,y:110,color:"#fff",type:"boss",connected:[]});for(var g=t.length,v=0;v<i.length;v++)t[t.length-i.length-1+v].connected.push(g);return t}},"7J33":function(e,t,a){var s=a("Ja7o");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"7KWG":function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__stageText___2vrkn-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden}",""]),t.locals={stageText:"styles__stageText___2vrkn-camelCase"}},"7RDU":function(e,t,a){var s=a("Vd5D");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"9joH":function(e,t,a){var s=a("tv2z");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},BsL1:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s="CREATE_TOWER",r="LOAD_TOWER"},CByA:function(e,t,a){var s=a("oDjg");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},CPUM:function(e,t,a){var s=a("kfgF");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},Cs4o:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var s=a("tDrI");function r(e,t){return{type:s.b,enemy:e,enemyType:t}}function n(e){return{type:s.a,node:e}}},EbpU:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__myCircle_____P_b-camelCase{width:30vw;height:10vw;border-radius:50%;background-color:#404040;position:absolute;top:calc(50% + 16.25vw);left:35vw;transform:translate(-50%,-50%)}.styles__myName___cTii2-camelCase{font-family:Nunito,sans-serif;font-size:3.5vw;font-weight:700;top:calc(50% + 9vw);text-align:center;color:#fff}.styles__myLife___1LcWo-camelCase,.styles__myName___cTii2-camelCase{position:absolute;left:2.5vw;width:15vw}.styles__myLife___1LcWo-camelCase{top:calc(50% - 7.5vw);height:15vw}.styles__oppCircle___2B6uL-camelCase{width:21vw;height:7vw;border-radius:50%;background-color:#404040;position:absolute;top:26.25vw;left:68.75vw;transform:translate(-50%,-50%)}.styles__oppBlook___3T2Xj-camelCase{height:13.8vw;width:12vw;position:absolute;top:3.5vw;left:82.75vw;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__oppBlookStage___3ZgK5-camelCase{height:5vw;border-radius:2vw;background-color:#404040;top:13.8vw}.styles__oppBlookStage___3ZgK5-camelCase,.styles__oppName___1xiCH-camelCase{width:16vw;position:absolute;left:80.75vw}.styles__oppName___1xiCH-camelCase{font-family:Nunito,sans-serif;font-size:2vw;line-height:2.2vw;font-weight:700;top:20vw;text-align:center;color:#fff}.styles__oppLife___3Okvz-camelCase{position:absolute;top:26vw;left:81.25vw;height:15vw;width:15vw;transform:scale(.7)}.styles__cardContainer___2kLLf-camelCase{position:absolute;width:25vw;height:32.5vw;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__myCard___g06Aa-camelCase{top:50%;left:35vw;transform:translate(-50%,-50%)}.styles__oppCard___2vc2n-camelCase{top:10vw;left:65vw;transform:scale(.7) translate(-50%,-50%)}.styles__myCardAttack___ZUfRz-camelCase{-webkit-animation:styles__myAttack___2C6Sv-camelCase .35s ease-out;animation:styles__myAttack___2C6Sv-camelCase .35s ease-out}@-webkit-keyframes styles__myAttack___2C6Sv-camelCase{0%{transform:translate(-50%,-50%)}50%{transform:translate(-40%,-60%)}to{transform:translate(-50%,-50%)}}@keyframes styles__myAttack___2C6Sv-camelCase{0%{transform:translate(-50%,-50%)}50%{transform:translate(-40%,-60%)}to{transform:translate(-50%,-50%)}}.styles__myCardHit___2vuR_-camelCase{-webkit-animation:styles__myHit___3o5Wv-camelCase .35s ease-out 185ms;animation:styles__myHit___3o5Wv-camelCase .35s ease-out 185ms}@-webkit-keyframes styles__myHit___3o5Wv-camelCase{0%{transform:translate(-50%,-50%)}50%{transform:translate(-60%,-40%)}to{transform:translate(-50%,-50%)}}@keyframes styles__myHit___3o5Wv-camelCase{0%{transform:translate(-50%,-50%)}50%{transform:translate(-60%,-40%)}to{transform:translate(-50%,-50%)}}.styles__enemyCardAttack___JXMZH-camelCase{-webkit-animation:styles__enemyAttack___2pd2i-camelCase .35s ease-out;animation:styles__enemyAttack___2pd2i-camelCase .35s ease-out}@-webkit-keyframes styles__enemyAttack___2pd2i-camelCase{0%{transform:scale(.7) translate(-50%,-50%)}50%{transform:scale(.7) translate(-60%,-40%)}to{transform:scale(.7) translate(-50%,-50%)}}@keyframes styles__enemyAttack___2pd2i-camelCase{0%{transform:scale(.7) translate(-50%,-50%)}50%{transform:scale(.7) translate(-60%,-40%)}to{transform:scale(.7) translate(-50%,-50%)}}.styles__enemyCardHit___3624A-camelCase{-webkit-animation:styles__enemyHit___1GQZy-camelCase .35s ease-out 185ms;animation:styles__enemyHit___1GQZy-camelCase .35s ease-out 185ms}@-webkit-keyframes styles__enemyHit___1GQZy-camelCase{0%{transform:scale(.7) translate(-50%,-50%)}50%{transform:scale(.7) translate(-40%,-60%)}to{transform:scale(.7) translate(-50%,-50%)}}@keyframes styles__enemyHit___1GQZy-camelCase{0%{transform:scale(.7) translate(-50%,-50%)}50%{transform:scale(.7) translate(-40%,-60%)}to{transform:scale(.7) translate(-50%,-50%)}}.styles__text___295P4-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:27.5vw;height:10.5vw;left:53.5vw;top:32.5vw;font-size:2.3vw;font-family:Nunito,sans-serif;font-weight:700;text-align:center;color:#fff;text-shadow:2px 2px 8px grey}.styles__questionContainer___2O_T6-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#292929;-webkit-animation:styles__growIn___393IK-camelCase .5s;animation:styles__growIn___393IK-camelCase .5s}@-webkit-keyframes styles__growIn___393IK-camelCase{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes styles__growIn___393IK-camelCase{0%{transform:scale(0)}to{transform:scale(1)}}.styles__feedbackContainer___v59kY-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#292929}@media only screen and (max-width:600px){.styles__myCard___g06Aa-camelCase{transform:scale(1.8) translate(-50%,-50%);top:80%;left:40vw}.styles__myCircle_____P_b-camelCase{width:55vw;height:18vw;top:calc(80% + 16.25vw);left:30vw}.styles__oppCard___2vc2n-camelCase{transform:scale(1.5) translate(-50%,-50%);top:37.5vw;left:80vw}.styles__oppCircle___2B6uL-camelCase{width:45vw;height:15vw;top:53.75vw;left:73.75vw}.styles__text___295P4-camelCase{width:40vw;height:50vw;left:5vw;top:7.5vw;font-size:6vw}.styles__oppBlook___3T2Xj-camelCase{height:17.25vw;width:15vw;top:65vw;left:80vw}.styles__oppBlookStage___3ZgK5-camelCase{width:20vw;height:7vw;border-radius:2vw;top:77.25vw;left:77.5vw}.styles__oppName___1xiCH-camelCase{font-size:4vw;line-height:4.2vw;left:77.5vw;top:88vw;width:20vw}.styles__oppLife___3Okvz-camelCase{top:69.5vw;left:57.5vw;transform:scale(1.2)}.styles__myName___cTii2-camelCase{font-size:6vw;line-height:6vw;left:77vw;top:calc(81.5% - 3.75vw);width:23vw}.styles__myLife___1LcWo-camelCase{top:calc(81.5% - 7.5vw);left:60vw;transform:scale(1.5)}@-webkit-keyframes styles__myAttack___2C6Sv-camelCase{0%{transform:scale(1.8) translate(-50%,-50%)}50%{transform:scale(1.8) translate(-40%,-60%)}to{transform:scale(1.8) translate(-50%,-50%)}}@keyframes styles__myAttack___2C6Sv-camelCase{0%{transform:scale(1.8) translate(-50%,-50%)}50%{transform:scale(1.8) translate(-40%,-60%)}to{transform:scale(1.8) translate(-50%,-50%)}}@-webkit-keyframes styles__myHit___3o5Wv-camelCase{0%{transform:scale(1.8) translate(-50%,-50%)}50%{transform:scale(1.8) translate(-60%,-40%)}to{transform:scale(1.8) translate(-50%,-50%)}}@keyframes styles__myHit___3o5Wv-camelCase{0%{transform:scale(1.8) translate(-50%,-50%)}50%{transform:scale(1.8) translate(-60%,-40%)}to{transform:scale(1.8) translate(-50%,-50%)}}@-webkit-keyframes styles__enemyAttack___2pd2i-camelCase{0%{transform:scale(1.5) translate(-50%,-50%)}50%{transform:scale(1.5) translate(-60%,-40%)}to{transform:scale(1.5) translate(-50%,-50%)}}@keyframes styles__enemyAttack___2pd2i-camelCase{0%{transform:scale(1.5) translate(-50%,-50%)}50%{transform:scale(1.5) translate(-60%,-40%)}to{transform:scale(1.5) translate(-50%,-50%)}}@-webkit-keyframes styles__enemyHit___1GQZy-camelCase{0%{transform:scale(1.5) translate(-50%,-50%)}50%{transform:scale(1.5) translate(-40%,-60%)}to{transform:scale(1.5) translate(-50%,-50%)}}@keyframes styles__enemyHit___1GQZy-camelCase{0%{transform:scale(1.5) translate(-50%,-50%)}50%{transform:scale(1.5) translate(-40%,-60%)}to{transform:scale(1.5) translate(-50%,-50%)}}}",""]),t.locals={myCircle:"styles__myCircle_____P_b-camelCase",myName:"styles__myName___cTii2-camelCase",myLife:"styles__myLife___1LcWo-camelCase",oppCircle:"styles__oppCircle___2B6uL-camelCase",oppBlook:"styles__oppBlook___3T2Xj-camelCase",oppBlookStage:"styles__oppBlookStage___3ZgK5-camelCase",oppName:"styles__oppName___1xiCH-camelCase",oppLife:"styles__oppLife___3Okvz-camelCase",cardContainer:"styles__cardContainer___2kLLf-camelCase",myCard:"styles__myCard___g06Aa-camelCase",oppCard:"styles__oppCard___2vc2n-camelCase",myCardAttack:"styles__myCardAttack___ZUfRz-camelCase",myAttack:"styles__myAttack___2C6Sv-camelCase",myCardHit:"styles__myCardHit___2vuR_-camelCase",myHit:"styles__myHit___3o5Wv-camelCase",enemyCardAttack:"styles__enemyCardAttack___JXMZH-camelCase",enemyAttack:"styles__enemyAttack___2pd2i-camelCase",enemyCardHit:"styles__enemyCardHit___3624A-camelCase",enemyHit:"styles__enemyHit___1GQZy-camelCase",text:"styles__text___295P4-camelCase",questionContainer:"styles__questionContainer___2O_T6-camelCase",growIn:"styles__growIn___393IK-camelCase",feedbackContainer:"styles__feedbackContainer___v59kY-camelCase"}},Gq1l:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("czhI"),f=a.n(p),_=a("PZzA"),d=a("1qV6"),h=a.n(d),y=a("9xwJ"),w=a.n(y),g=a("oi/j"),v=a("z6Is"),b=a("dLlt"),C=a("iE/P");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function T(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=I(e);if(t){var r=I(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return N(this,a)}}function N(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(c,e);var t,a,s,n,o,i=E(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={wins:0},t.endGame=t.endGame.bind(O(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"victory"===this.props.tower.stage){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:f.a.put("/api/towers/victory").then((function(e){t.setState({wins:e.data.wins})})).catch((function(e){console.error(e),t.endGame()}));case 3:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){k(r,a,s,o,i,"next",e)}function i(e){k(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"endGame",value:function(){this.props.setTowerStage("final"),this.props.history.push("/tower/final")}},{key:"render",value:function(){return this.props.tower&&this.props.tower.hwId&&(this.redirect=!1),this.redirect||!this.props.tower?r.a.createElement(u.a,{to:"/login"}):r.a.createElement("div",{className:m.isMobile?w.a.mBody:w.a.body,style:{backgroundColor:"#292929",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(v.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(g.a,{coins:this.props.tower.coins}),this.state.wins>0?r.a.createElement("div",{className:h.a.container},r.a.createElement("div",{className:h.a.header},"Victory"),r.a.createElement("div",{className:h.a.winText},"You are the ".concat(Object(b.n)(this.state.wins)).concat(Object(b.g)(this.state.wins)," adventurer to ascend the Tower of Doom!")),r.a.createElement("div",{className:h.a.endButton,role:"button",tabIndex:0,onClick:this.endGame},"End Game")):null)}}])&&T(t.prototype,a),s&&T(t,s),c}(r.a.Component);j.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerStage:c.a.func.isRequired};t.a=Object(C.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower,client:e.clients.client}}),(function(e){return Object(n.b)({setTowerStage:_.g},e)}))(j)))},"Gt+J":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return l}));var s="ANSWER_TOWER",r="SET_TOWER_CARDS",n="SET_TOWER_STAGE",o="SET_TOWER_COINS",i="SET_TOWER_LIFE",c="SET_TOWER_ARTIFACTS",l="SET_TOWER_INSTRUCT"},IHfv:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".tourSteps__centered___159a0-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__card1___1i7H2-camelCase{left:calc(50% - 15vw)}.tourSteps__card1___1i7H2-camelCase,.tourSteps__card2___3j0FY-camelCase{top:60%;transform:translateY(-50%)}.tourSteps__card2___3j0FY-camelCase{left:calc(50% + 15vw)}@media only screen and (max-width:800px){.tourSteps__card1___1i7H2-camelCase,.tourSteps__card2___3j0FY-camelCase{left:50%;top:calc(50% + 23vw);transform:translateX(-50%)}}",""]),t.locals={centered:"tourSteps__centered___159a0-camelCase",card1:"tourSteps__card1___1i7H2-camelCase",card2:"tourSteps__card2___3j0FY-camelCase"}},Ja7o:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__headerRow___cuEtG-camelCase{width:90%;margin:0 auto}.styles__header___3DFPo-camelCase,.styles__headerRow___cuEtG-camelCase{display:flex;flex-direction:row}.styles__header___3DFPo-camelCase{margin:25px auto 10px;width:100%;background-color:#1a1a1a;box-shadow:0 0 8px 3px #e57e25;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;justify-content:space-between;align-items:center;padding:5px 0}.styles__headerBlook___13ycw-camelCase{height:86px;margin:0 10px 2px}.styles__headerText___2GJKT-camelCase{font-family:Titan One,sans-serif;color:#fff;text-shadow:2px 2px 8px grey;font-size:68px}.styles__desc___110QL-camelCase{width:80%}.styles__desc___110QL-camelCase,.styles__prizesButton___3iiJy-camelCase{background-color:#1a1a1a;box-shadow:0 0 8px 3px #e57e25;color:#fff;font-family:Nunito,sans-serif;font-size:24px;border-radius:5px;padding:7px 10px;box-sizing:border-box;margin:20px auto 30px;display:flex;align-items:center;justify-content:center;text-align:center;font-weight:700}.styles__prizesButton___3iiJy-camelCase{width:60%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;transition:.2s}.styles__prizesButton___3iiJy-camelCase:hover{transform:scale(.97)}.styles__standingRow___3YxDw-camelCase{width:85%;height:50px;box-sizing:border-box;padding:5px 10px;background-color:#1a1a1a;box-shadow:0 0 8px 3px #e57e25;color:#fff;font-family:Nunito,sans-serif;border-radius:5px;margin:20px auto;display:flex;flex-direction:row;align-items:center}.styles__placeText___3TfkF-camelCase{text-align:right;min-width:40px;font-size:40px}.styles__placeText___3TfkF-camelCase,.styles__superPlaceText___1jIwy-camelCase{font-family:Titan One,sans-serif}.styles__superPlaceText___1jIwy-camelCase{margin:4px 2px auto;width:27px;text-align:left;font-size:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__nameText___20UdI-camelCase{font-size:34px;font-weight:700;margin-left:9px;margin-top:5px;flex-grow:1}.styles__candyRow___2f55o-camelCase{display:flex;flex-direction:row;align-items:center}.styles__candyText___2228n-camelCase{margin-left:10px;font-size:28px;text-align:right}.styles__candyImg___5P8zR-camelCase{height:30px;margin-left:7px}.styles__prizesContainer___17t7v-camelCase{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:620px;min-height:200px;max-height:90%;background-color:#1a1a1a;box-shadow:0 0 8px 3px #e57e25;border-radius:7px;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;font-family:Nunito,sans-serif;color:#fff}.styles__prizesContainer___17t7v-camelCase::-webkit-scrollbar{width:12px}.styles__prizesContainer___17t7v-camelCase::-webkit-scrollbar-thumb,.styles__prizesContainer___17t7v-camelCase::-webkit-scrollbar-thumb:hover{background:#fff;border-radius:10px}.styles__closeIcon___2c9yD-camelCase{position:absolute;top:15px;right:17px;font-size:26px;color:#fff;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:.2s}.styles__closeIcon___2c9yD-camelCase:focus,.styles__closeIcon___2c9yD-camelCase:hover{transform:scale(.95)}.styles__prizesHeader___MZYRg-camelCase{justify-content:center;text-align:center;padding:20px 20px 25px;font-family:Titan One,sans-serif;font-size:48px;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__prizesHeader___MZYRg-camelCase,.styles__prizesRow___3omKe-camelCase{display:flex;align-items:center}.styles__prizesRow___3omKe-camelCase{flex-flow:row wrap;font-family:Nunito,sans-serif;font-size:30px;padding:10px 20px}.styles__prizeBlook___XbW4n-camelCase{width:55px;margin:0 15px}.styles__prizesToken___3DJKz-camelCase{height:30px;width:30px;border-radius:6px;margin-left:7px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media only screen and (max-width:800px){.styles__headerText___2GJKT-camelCase{font-size:60px}.styles__standingRow___3YxDw-camelCase{height:140px;flex-direction:column;justify-content:center}.styles__row___11jGN-camelCase{height:40px;align-items:center}.styles__placeText___3TfkF-camelCase{width:auto;line-height:40px}.styles__superPlaceText___1jIwy-camelCase{width:auto;margin:2px 2px 6px}.styles__nameText___20UdI-camelCase{margin-left:0;font-size:27px;line-height:38px;flex-grow:0}.styles__candyText___2228n-camelCase{font-size:24px}.styles__candyImg___5P8zR-camelCase{height:25px}.styles__prizesContainer___17t7v-camelCase{max-width:350px;min-width:300px;width:90%}}@media only screen and (max-width:600px){.styles__headerBlook___13ycw-camelCase{display:none}}",""]),t.locals={headerRow:"styles__headerRow___cuEtG-camelCase",header:"styles__header___3DFPo-camelCase",headerBlook:"styles__headerBlook___13ycw-camelCase",headerText:"styles__headerText___2GJKT-camelCase",desc:"styles__desc___110QL-camelCase",prizesButton:"styles__prizesButton___3iiJy-camelCase",standingRow:"styles__standingRow___3YxDw-camelCase",placeText:"styles__placeText___3TfkF-camelCase",superPlaceText:"styles__superPlaceText___1jIwy-camelCase",nameText:"styles__nameText___20UdI-camelCase",candyRow:"styles__candyRow___2f55o-camelCase",candyText:"styles__candyText___2228n-camelCase",candyImg:"styles__candyImg___5P8zR-camelCase",prizesContainer:"styles__prizesContainer___17t7v-camelCase",closeIcon:"styles__closeIcon___2c9yD-camelCase",prizesHeader:"styles__prizesHeader___MZYRg-camelCase",prizesRow:"styles__prizesRow___3omKe-camelCase",prizeBlook:"styles__prizeBlook___XbW4n-camelCase",prizesToken:"styles__prizesToken___3DJKz-camelCase",row:"styles__row___11jGN-camelCase"}},KsRT:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s="NEW_TOWER_LEVEL"},LWF6:function(e,t,a){var s=a("sVPk");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},MY4J:function(e,t,a){var s=a("EbpU");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},"PAX/":function(e,t,a){var s=a("7KWG");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},PHJ0:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__cashText___1DM5G-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden}",""]),t.locals={cashText:"styles__cashText___1DM5G-camelCase"}},PZzA:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return u}));var s=a("Gt+J");function r(e,t,a){return{type:s.a,corrects:e,incorrects:t,freeQuestions:a}}function n(e){return{type:s.c,cards:e}}function o(e){return{type:s.g,stage:e}}function i(e){return{type:s.d,coins:e}}function c(e){return{type:s.f,life:e}}function l(e){return{type:s.b,artifacts:e}}function u(e){return{type:s.e,instruct:e}}},S0Gj:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("B8zr"),p=a("4Ebc"),f=a("8Jek"),_=a.n(f),d=a("czhI"),h=a.n(d),y=a("mv6z"),w=a.n(y),g=a("Cs4o"),v=a("PZzA"),b=a("oJE2"),C=a("9xwJ"),x=a.n(C),k=a("7RDU"),T=a.n(k),S=a("oi/j"),E=a("z6Is"),N=a("5Xst"),O=a("0X8E"),I=a.n(O),j=[{text:"This is the map of the 1st level. Each time you play, the maps for each level will be different.",nextButtonText:"Next",className:I.a.centered},{text:"Your goal is to go down the map. Each time you're on this page, you have to pick a highlighted icon to enter that stage.",nextButtonText:"Next",className:I.a.centered},{elementId:"buttonContainer",backgroundColor:"#292929",text:"You can use the 'View Deck' button to view your current Deck, and the 'Map Key' is helpful to learn about what the map icons mean.",nextButtonText:"Next",className:I.a.topRight},{text:"Once you choose a stage, you can't go back. You'll only be able to enter stages lower on the map that are connected by the paths.",nextButtonText:"Next",className:I.a.centered},{text:"Go ahead and click a non-white icon now to enter that stage. Good Luck!",nextButtonText:"Done",className:I.a.centered}],R=a("iE/P"),B=a("Cr9M"),z=a("0SMU"),P=a("dLlt");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function M(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function L(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=W(e);if(t){var r=W(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return Q(this,a)}}function Q(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J={small:{code:"",color:"#6666ff",size:Object(P.B)("1.7vw")},big:{code:"",color:"#ff5050",size:Object(P.B)("2.5vw")},shop:{code:"",color:"#ffff66",size:Object(P.B)("2vw")},rest:{code:"",color:"#ffa31a",size:Object(P.B)("2vw")},risk:{code:"",color:"#cc33ff",size:Object(P.B)("2.2vw")},boss:{code:"",color:"#990000",size:Object(P.B)("7vw")}},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(c,e);var t,a,s,n,o,i=G(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={showDeck:!1,showKey:!1,showTour:e.tower&&0===e.tower.currentNode&&e.tower.instruct},t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a,s,r,n,o,i,c,l,u,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"map"===this.props.tower.stage){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:e.sent||this.setState({notLoggedIn:!0}),this.props.tower&&this.props.tower.resultId&&h.a.put("/api/results",{id:this.props.tower.resultId,data:{corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,stage:this.props.tower.numNodes,alive:!0}}).catch((function(e){return console.error(e)})),t=this.props.tower.currentNode,a=this.props.tower.mapNodes,s=0===t?a.filter((function(e){return e.y<10})).map((function(e){return e.id})):a.filter((function(e){return e.id===t}))[0].connected,r=new m.a.DataSet(a.map((function(e){return{id:e.id,x:Object(P.B)("".concat(p.isMobile?e.x+.5*(e.x-50):e.x,"vw")),y:Object(P.B)("".concat(e.y).concat(p.isMobile?"vh":"vw")),color:"#fff",shape:"icon",icon:{face:'"Font Awesome 5 Free"',weight:"bold",code:t===e.id?"":J[e.type].code,color:t===e.id||f.props.tower.nodePath.includes(e.id)?"#fff":s.includes(e.id)?J[e.type].color:"rgba(255, 255, 255, 0.6)",size:t===e.id?Object(P.B)(p.isMobile?"3.5vh":"3vw"):s.includes(e.id)?J[e.type].size+Object(P.B)("1.2vw"):J[e.type].size}}}))),n=[],a.forEach((function(e){e.connected.forEach((function(a){n.push({from:e.id,to:a,width:e.id===t||f.props.tower.nodePath.includes(e.id)&&[].concat(D(f.props.tower.nodePath),[e.id]).includes(a)?3:1})}))})),o=new m.a.DataSet(n),i=document.getElementById("mynetwork"),c={nodes:r,edges:o},l={interaction:{dragNodes:!1,zoomView:!1,dragView:!0,selectConnectedEdges:!1},autoResize:!1,physics:!1,height:"".concat(Object(P.B)(p.isMobile?"110vh":"110vw"),"px"),width:"100%",edges:{dashes:!0,smooth:!1}},(u=new m.a.Network(i,c,l)).on("selectNode",(function(e){if(s.includes(e.nodes[0])){var t=[].concat(D(f.props.tower.nodePath),[e.nodes[0]]),r=f.props.tower.numNodes+1;f.props.addTowerNode(e.nodes[0]);var n=a.filter((function(t){return t.id===e.nodes[0]}))[0];if(f.props.tower.towerId)switch(n.type){case"shop":case"rest":h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.put("/api/towers/save",{id:f.props.tower.towerId,stage:n.type,nodePath:t,numNodes:r,currentNode:n.id}).then((function(){f.props.setTowerStage(n.type),f.props.history.push("/tower/".concat(n.type))})).catch((function(e){console.error(e)}));break;case"risk":h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.put("/api/towers/save",{id:f.props.tower.towerId,stage:n.type,nodePath:t,numNodes:r,currentNode:n.id,enemy:f.props.tower.artifacts.includes("Dave's Doggo")?"-":f.props.tower.artifacts.includes("Lucky Feather")?Object(P.o)(["+","+","-"]):Object(P.o)(["-","-","+"])}).then((function(e){f.props.setTowerEnemy(e.data.enemy,"small"),f.props.setTowerStage(n.type),f.props.history.push("/tower/".concat(n.type))})).catch((function(e){console.error(e)}));break;case"small":case"big":case"boss":h.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,h.a.put("/api/towers/save",{id:f.props.tower.towerId,stage:n.type,nodePath:t,numNodes:r,currentNode:n.id,enemy:Object(b.b)(n.type,f.props.tower.level)}).then((function(e){f.props.setTowerEnemy(e.data.enemy,n.type),f.props.history.push("/tower/battle")})).catch((function(e){console.error(e)}))}else switch(n.type){case"shop":case"rest":f.props.setTowerStage(n.type),f.props.history.push("/tower/".concat(n.type));break;case"risk":f.props.setTowerEnemy(f.props.tower.artifacts.includes("Dave's Doggo")?"-":f.props.tower.artifacts.includes("Lucky Feather")?Object(P.o)(["+","+","-"]):Object(P.o)(["-","-","+"]),"small"),f.props.setTowerStage(n.type),f.props.history.push("/tower/".concat(n.type));break;case"small":case"big":case"boss":f.props.setTowerEnemy(Object(b.b)(n.type,f.props.tower.level),n.type),f.props.history.push("/tower/battle")}}})),new w.a("FontAwesome",{}).load("",12500).then((function(){f.redrawTimeout=setTimeout((function(){u.redraw()}),1e3)}));case 21:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){M(r,a,s,o,i,"next",e)}function i(e){M(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.redrawTimeout)}},{key:"render",value:function(){var e=this;return this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.tower?r.a.createElement(u.a,{to:"/login"}):r.a.createElement("div",{className:p.isMobile?x.a.mBody:x.a.body,id:"body",style:{backgroundColor:"#292929",overflow:p.isMobile?"hidden":null,height:p.isMobile?"100%":null}},r.a.createElement(E.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(S.a,{coins:this.props.tower.coins}),r.a.createElement("div",{className:x.a.regularBody,id:"regularBody"},this.state.showTour?r.a.createElement(N.a,{steps:j,onExit:function(){return e.setState({showTour:!1})}}):null,r.a.createElement("div",{className:T.a.header},3===this.props.tower.level?"Final Map":"Level ".concat(this.props.tower.level," Map")),r.a.createElement("div",{className:T.a.subheader},"Choose a Highlighted Location"),r.a.createElement("div",{className:T.a.buttonContainer,id:"buttonContainer"},r.a.createElement("div",{className:T.a.deckButton,role:"button",tabIndex:0,onClick:this.state.showTour?function(){}:function(){return e.setState({showDeck:!0})}},r.a.createElement("i",{className:_()("fas fa-layer-group",T.a.deckIcon)}),r.a.createElement("div",{className:T.a.deckText},"View Deck")),r.a.createElement("div",{className:T.a.deckButton,role:"button",tabIndex:0,onClick:this.state.showTour?function(){}:function(){return e.setState({showKey:!0})}},r.a.createElement("i",{className:_()("fas fa-map",T.a.deckIcon)}),r.a.createElement("div",{className:T.a.deckText},"Map Key"))),r.a.createElement("div",{className:T.a.lifeContainer},r.a.createElement(z.a,{currentLife:this.props.tower.life,maxLife:100})),r.a.createElement("div",{id:"mynetwork",className:T.a.network}),this.state.showDeck?r.a.createElement("div",{className:T.a.deckContainer},[].concat(D(this.props.tower.artifacts),D(this.props.tower.cards)).map((function(e,t){return r.a.createElement("div",{className:T.a.cardContainer,key:t},r.a.createElement(B.a,{card:e,flipped:!1,isArtifact:!e.blook}))})),r.a.createElement("i",{className:_()("fas fa-times",T.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!1})}})):this.state.showKey?r.a.createElement("div",{className:x.a.modal,style:{top:55,height:"calc(100% - 55px)"}},r.a.createElement("div",{className:T.a.keyContainer},r.a.createElement("div",{className:T.a.keyHeader},"Map Key"),r.a.createElement("i",{className:_()("fas fa-times",T.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showKey:!1})}}),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-bed",T.a.keyIcon),style:{color:"#ffa31a"}}),"Rest to restore health or upgrade cards"),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-question",T.a.keyIcon),style:{color:"#cc33ff"}}),"Take a risk with your health and cards"),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-store",T.a.keyIcon),style:{color:"#ffff66"}}),"Use coins to remove cards or buy new ones"),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-robot",T.a.keyIcon),style:{color:"#6666ff"}}),"Fight an easy enemy for a small reward"),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-skull",T.a.keyIcon),style:{color:"#ff5050"}}),"Fight a larger enemy for a better reward"),r.a.createElement("div",{className:T.a.keyRow},r.a.createElement("i",{className:_()("fas fa-exclamation-triangle",T.a.keyIcon),style:{color:"#990000"}}),"Fight the boss to clear the level"),r.a.createElement("div",{style:{height:20}}))):null))}}])&&L(t.prototype,a),s&&L(t,s),c}(r.a.Component);U.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerEnemy:c.a.func.isRequired,addTowerNode:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,user:c.a.object};t.a=Object(R.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower,client:e.clients.client}}),(function(e){return Object(n.b)({setTowerEnemy:g.b,addTowerNode:g.a,setTowerStage:v.g},e)}))(U)))},SjwH:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("czhI"),m=a.n(u),p=a("4Ebc"),f=a("8Jek"),_=a.n(f),d=a("9xwJ"),h=a.n(d),y=a("7J33"),w=a.n(y),g=a("EqBC"),v=a("VBT1"),b=a("z6Is"),C=a("OmlJ"),x=a("nI/L"),k=a("dLlt"),T=a("iE/P");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function N(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=R(e);if(t){var r=R(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return j(this,a)}}function j(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,a,s,n,o,i=I(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={standings:[],user:{},showPrizes:!1},t.here=!0,t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",this.props.history.push("/login"));case 5:this.name=t.name,m.a.get("/api/tourneys",{params:{name:t.name}}).then((function(e){var t=e.data.user||{},s=e.data.standings,r=0,n=-1;s.forEach((function(e){e.candy!==n&&(r+=1,n=e.candy),e.place=r})),t.name&&!s.map((function(e){return e.name})).includes(t.name)&&s.push(t),a.setState({standings:s,user:t})})).catch((function(e){console.error(e)}));case 7:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){E(r,a,s,o,i,"next",e)}function i(e){E(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:p.isMobile?h.a.mBody:h.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(b.a,{title:"Contest | Blooket",desc:"Compete in Blooket's Contest of Candy to see if you can make the most candy in 7 minutes!"}),r.a.createElement(g.a,{history:this.props.history,page:"Stats"}),r.a.createElement("div",{className:h.a.regularBodyMax},r.a.createElement("div",{className:w.a.headerRow},r.a.createElement("div",{className:w.a.header},r.a.createElement(v.a,{name:"Pumpkin",className:w.a.headerBlook}),r.a.createElement("div",{className:w.a.headerText},"Contest of Candy"),r.a.createElement(v.a,{name:"Ghost",className:w.a.headerBlook}))),r.a.createElement("div",{className:w.a.desc},"Final Standings"),r.a.createElement("div",{className:w.a.prizesButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showPrizes:!0})}},"Prizes"),this.state.standings.map((function(t,a){return r.a.createElement("div",{className:w.a.standingRow,key:t.name,style:{marginTop:25===a?50:null,maxHeight:25===a?100:null}},t.place?r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},r.a.createElement("div",{className:w.a.placeText},t.place),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(t.place))):null,r.a.createElement("div",{className:w.a.nameText,style:{color:e.state.user.name===t.name?"#e57e25":"#fff"}},t.name),r.a.createElement("div",{className:w.a.candyRow},r.a.createElement("div",{className:w.a.candyText},t.candy>1e6?"".concat(Object(k.n)(Math.round(t.candy/1e6)),"M"):Object(k.n)(t.candy)),r.a.createElement("img",{src:C.a,alt:"Candy",className:w.a.candyImg,draggable:!1})))})),r.a.createElement("div",{className:w.a.standingRow,style:{opacity:0}})),this.state.showPrizes?r.a.createElement("div",{className:h.a.modal},r.a.createElement("div",{className:w.a.prizesContainer},r.a.createElement("i",{className:_()(w.a.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:function(){return e.setState({showPrizes:!1})}}),r.a.createElement("div",{className:w.a.prizesHeader},"Prizes"),r.a.createElement("div",{className:w.a.prizesRow},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},r.a.createElement("div",{className:w.a.placeText,style:{fontSize:34,marginRight:18}},"Champion")),r.a.createElement(v.a,{name:"Spooky Ghost",className:w.a.prizeBlook}),r.a.createElement(v.a,{name:"Spooky Mummy",className:w.a.prizeBlook}),r.a.createElement(v.a,{name:"Spooky Pumpkin",className:w.a.prizeBlook}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},"+ 500",r.a.createElement("img",{src:x.a,alt:"Token",className:w.a.prizesToken,draggable:!1}))),r.a.createElement("div",{className:w.a.prizesRow},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},r.a.createElement("div",{className:w.a.placeText},"2"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(2)))," - ",r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",marginRight:30}},r.a.createElement("div",{className:w.a.placeText},"5"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(5))),r.a.createElement(v.a,{name:"Spooky Mummy",className:w.a.prizeBlook}),r.a.createElement(v.a,{name:"Spooky Pumpkin",className:w.a.prizeBlook}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},"+ 300",r.a.createElement("img",{src:x.a,alt:"Token",className:w.a.prizesToken,draggable:!1}))),r.a.createElement("div",{className:w.a.prizesRow},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},r.a.createElement("div",{className:w.a.placeText},"6"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(6)))," - ",r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",marginRight:30}},r.a.createElement("div",{className:w.a.placeText},"15"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(15))),r.a.createElement(v.a,{name:"Spooky Pumpkin",className:w.a.prizeBlook}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},"+ 200",r.a.createElement("img",{src:x.a,alt:"Token",className:w.a.prizesToken,draggable:!1}))),r.a.createElement("div",{className:w.a.prizesRow},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch"}},r.a.createElement("div",{className:w.a.placeText},"16"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(16)))," - ",r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",marginRight:30}},r.a.createElement("div",{className:w.a.placeText},"25"),r.a.createElement("div",{className:w.a.superPlaceText},Object(k.g)(25))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},"100",r.a.createElement("img",{src:x.a,alt:"Token",className:w.a.prizesToken,draggable:!1}))),r.a.createElement("div",{style:{height:20}}))):null)}}])&&N(t.prototype,a),s&&N(t,s),c}(r.a.Component);B.propTypes={history:c.a.object.isRequired,user:c.a.object};t.a=Object(T.c)(Object(l.a)(Object(o.b)((function(){return{}}),(function(e){return Object(n.b)({},e)}))(B)))},TJuU:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("8Jek"),f=a.n(p),_=a("czhI"),d=a.n(_),h=a("PZzA"),y=a("9xwJ"),w=a.n(y),g=a("9joH"),v=a.n(g),b=a("oi/j"),C=a("z6Is"),x=a("YoR9"),k=a("pnr8"),T=a("Cr9M"),S=a("0SMU"),E=a("dLlt"),N=a("iE/P");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){R(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function P(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function A(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=H(e);if(t){var r=H(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return M(this,a)}}function M(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(c,e);var t,a,s,n,o,i=q(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={question:{},phase:"",correct:!1,showDeck:!1,card:{},life:100,healAmount:20,bonusStats:2},t.freeQuestions=[],t.waiting=!1,t.qRemaining=3,t.onAnswer=t.onAnswer.bind(L(t)),t.onHeal=t.onHeal.bind(L(t)),t.getQuestion=t.getQuestion.bind(L(t)),t.answerNext=t.answerNext.bind(L(t)),t.selectCard=t.selectCard.bind(L(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"rest"===this.props.tower.stage&&this.props.tower.questions&&this.props.tower.questions.length){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:if(e.sent||this.setState({notLoggedIn:!0}),!this.props.tower.artifacts.includes("Anorak's Wizard Cap")){e.next=9;break}return this.props.tower.towerId?(d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,d.a.put("/api/towers/save",{id:this.props.tower.towerId,stage:"map"}).then((function(){s.props.setTowerStage("map"),s.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map")),e.abrupt("return");case 9:t=20,a=2,this.props.tower.artifacts.forEach((function(e){"Tasty Egg"===e?t+=7:"Training Weights"===e&&(a+=2)})),t=Math.min(t,100-this.props.tower.life),this.setState({healAmount:t,bonusStats:a,phase:"welcome"}),this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.freeQuestions)),this.welcomeTimeout=setTimeout((function(){s.getQuestion()}),3e3);case 16:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){P(r,a,s,o,i,"next",e)}function i(e){P(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.welcomeTimeout),clearTimeout(this.waitTimeout),clearTimeout(this.cardTimeout),clearTimeout(this.healTimeout),clearInterval(this.healInterval)}},{key:"onAnswer",value:function(e){if(!this.waiting){this.waiting=!0;var t=this.state.question.correctAnswers.includes(e),a=JSON.parse(JSON.stringify(this.props.tower.corrects)),s=JSON.parse(JSON.stringify(this.props.tower.incorrects)),r=this.state.question.number;t?a[r]?a[r]+=1:a[r]=1:s[r]?s[r]+=1:s[r]=1,this.props.answerTower(a,s,JSON.parse(JSON.stringify(this.freeQuestions))),this.setState({correct:t,phase:"feedback"})}}},{key:"onHeal",value:function(){var e=this;this.setState({life:this.props.tower.life,phase:"healing"},(function(){e.healTimeout=setTimeout((function(){var t=e.state.healAmount;e.healInterval=setInterval((function(){t<=0?(clearInterval(e.healInterval),e.healTimeout=setTimeout((function(){var t=Math.min(e.props.tower.life+e.state.healAmount,100);e.props.tower.towerId?(d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,d.a.put("/api/towers/save",{id:e.props.tower.towerId,stage:"map",life:t,corrects:e.props.tower.corrects,incorrects:e.props.tower.incorrects}).then((function(){e.props.setTowerLife(t),e.props.setTowerStage("map"),e.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(e.props.setTowerLife(t),e.props.setTowerStage("map"),e.props.history.push("/tower/map"))}),1500)):(t-=1,e.setState({life:e.state.life+1}))}),100)}),1500)}))}},{key:"getQuestion",value:function(){var e=this;0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.questions)));var t=Object(E.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(E.v)(t.answers)),this.setState({question:t,phase:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1}),400)}))}},{key:"answerNext",value:function(){this.state.correct?this.qRemaining-=1:(this.props.setTowerStage("map"),this.props.history.push("/tower/map")),this.qRemaining>0?this.getQuestion():this.setState({phase:"rest"})}},{key:"selectCard",value:function(e){var t=this,a=B(this.props.tower.cards),s=j({},a[e]);a[e]=j(j({},s),{},{strength:Math.min(s.strength+this.state.bonusStats,20),charisma:Math.min(s.charisma+this.state.bonusStats,20),wisdom:Math.min(s.wisdom+this.state.bonusStats,20)}),this.setState({card:s,phase:"upgradeReveal"},(function(){t.cardTimeout=setTimeout((function(){t.setState({card:a[e]},(function(){t.cardTimeout=setTimeout((function(){t.props.tower.towerId?(d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,d.a.put("/api/towers/save",{id:t.props.tower.towerId,stage:"map",cards:a,corrects:t.props.tower.corrects,incorrects:t.props.tower.incorrects}).then((function(){t.props.setTowerStage("map"),t.props.setTowerCards(a),t.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(t.props.setTowerStage("map"),t.props.setTowerCards(a),t.props.history.push("/tower/map"))}),3500)}))}),2500)}))}},{key:"render",value:function(){var e=this;return this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower&&this.props.tower.questions&&this.props.tower.questions.length?r.a.createElement("div",{className:m.isMobile?w.a.mBody:w.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(C.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(b.a,{coins:this.props.tower.coins,showRead:"question"===this.state.phase}),"question"===this.state.phase?r.a.createElement("div",{className:v.a.questionContainer},r.a.createElement(x.a,{onAnswer:this.onAnswer,text:this.state.question.text,answers:this.state.question.answers,image:this.state.question.image})):"feedback"===this.state.phase?r.a.createElement(k.a,{incorrectTime:3,correctAnswers:this.state.question.correctAnswers,correct:this.state.correct,onNext:this.answerNext}):"welcome"===this.state.phase?r.a.createElement("div",{className:w.a.regularBody},r.a.createElement("div",{className:v.a.welcomeText},"Answer 3 Questions Correctly to Rest")):"rest"===this.state.phase?r.a.createElement("div",{className:w.a.regularBody},r.a.createElement("div",{className:v.a.lifeContainer},r.a.createElement(S.a,{currentLife:this.props.tower.life,maxLife:100})),r.a.createElement("div",{className:v.a.deckButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!0})}},r.a.createElement("i",{className:f()("fas fa-layer-group",v.a.deckIcon)}),r.a.createElement("div",{className:v.a.deckText},"View Deck")),this.state.showDeck?r.a.createElement("div",{className:v.a.deckContainer},[].concat(B(this.props.tower.artifacts),B(this.props.tower.cards)).map((function(e,t){return r.a.createElement("div",{className:v.a.cardContainer,key:t},r.a.createElement(T.a,{card:e,flipped:!1,isArtifact:!e.blook}))})),r.a.createElement("i",{className:f()("fas fa-times",v.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!1})}})):null,r.a.createElement("div",{className:v.a.chooseText},"Choose an Option"),r.a.createElement("div",{className:v.a.restButtonContainer},r.a.createElement("div",{className:v.a.restButton,role:"button",tabIndex:0,style:{backgroundColor:"#ff9933"},onClick:function(){return e.setState({phase:"upgradeSelect"})}},r.a.createElement("i",{className:f()("fas fa-wrench",v.a.buttonIcon)}),"Upgrade",r.a.createElement("span",{style:{fontSize:"2vw"}},"+".concat(this.state.bonusStats," Attributes"))),r.a.createElement("div",{className:v.a.restButton,role:"button",tabIndex:0,style:{backgroundColor:"#33cc33"},onClick:function(){return e.onHeal()}},r.a.createElement("i",{className:f()("fas fa-medkit",v.a.buttonIcon)}),"Recover",r.a.createElement("span",{style:{fontSize:"2vw"}},"+".concat(this.state.healAmount," Health"))))):"upgradeSelect"===this.state.phase?r.a.createElement("div",{className:w.a.regularBody},r.a.createElement("div",{className:v.a.upgradeText},"Choose a Card to Upgrade"),r.a.createElement("div",{className:v.a.upgradeDeckContainer},this.props.tower.cards.map((function(t,a){return r.a.createElement("div",{className:v.a.upgradeCardContainer,key:a,role:"button",tabIndex:0,onClick:function(){return e.selectCard(a)}},r.a.createElement(T.a,{card:t,flipped:!1}))})))):"upgradeReveal"===this.state.phase?r.a.createElement("div",{className:w.a.regularBody},r.a.createElement("div",{className:v.a.upgradeText},"Adding +".concat(this.state.bonusStats," to All Attributes")),r.a.createElement("div",{className:v.a.cardReveal},r.a.createElement(T.a,{card:this.state.card,flipped:!1}))):"healing"===this.state.phase?r.a.createElement("div",{className:w.a.regularBody},r.a.createElement("div",{className:v.a.upgradeText},"Adding +".concat(this.state.healAmount," Health")),r.a.createElement("div",{className:v.a.lifeHealContainer},r.a.createElement(S.a,{currentLife:this.state.life,maxLife:100}))):null):r.a.createElement(u.a,{to:"/login"})}}])&&A(t.prototype,a),s&&A(t,s),c}(r.a.Component);G.propTypes={history:c.a.object.isRequired,tower:c.a.object,answerTower:c.a.func.isRequired,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(N.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(n.b)({answerTower:h.a,setTowerCards:h.c,setTowerStage:h.g,setTowerLife:h.f},e)}))(G)))},TtuZ:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,'.styles__container___2MpAw-camelCase{display:"flex";flex-direction:column;width:100%;-webkit-animation:styles__fadeIn___32bNo-camelCase 3s ease-in;animation:styles__fadeIn___32bNo-camelCase 3s ease-in}@-webkit-keyframes styles__fadeIn___32bNo-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___32bNo-camelCase{0%{opacity:0}to{opacity:1}}.styles__header___3jwtL-camelCase{font-size:16vw;margin:0 auto 20px;font-family:Creepster,sans-serif;color:#b3ffb3}.styles__header___3jwtL-camelCase,.styles__winText___2_K56-camelCase{text-align:center;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__winText___2_K56-camelCase{font-size:2.7vw;width:95%;margin:0 auto;font-family:Nunito,sans-serif;color:#fff;font-weight:700}.styles__endButton___2ilRV-camelCase{font-size:5vw;width:25%;margin:20px auto 0;text-align:center;font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;transition:.2s}.styles__endButton___2ilRV-camelCase:focus,.styles__endButton___2ilRV-camelCase:hover{transform:scale(1.05)}@media only screen and (max-width:700px){.styles__header___3jwtL-camelCase{font-size:100px}.styles__winText___2_K56-camelCase{font-size:24px}.styles__endButton___2ilRV-camelCase{font-size:60px;width:250px}}',""]),t.locals={container:"styles__container___2MpAw-camelCase",fadeIn:"styles__fadeIn___32bNo-camelCase",header:"styles__header___3jwtL-camelCase",winText:"styles__winText___2_K56-camelCase",endButton:"styles__endButton___2ilRV-camelCase"}},Vd5D:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__header___3XlLI-camelCase{font-size:72px;font-family:Creepster,sans-serif;color:#b3ffb3;margin:30px auto 10px}.styles__header___3XlLI-camelCase,.styles__subheader___1U1jf-camelCase{text-shadow:2px 2px 8px grey;text-align:center;width:80%}.styles__subheader___1U1jf-camelCase{font-size:30px;font-family:Nunito,sans-serif;font-weight:700;color:#fff;margin:10px auto}.styles__network___1SUlB-camelCase{position:absolute;top:150px;left:-1px;width:100%;height:110vw;outline:none;border:none}.styles__buttonContainer___GZANe-camelCase{position:absolute;top:0;right:0;padding:1vw;display:flex;flex-direction:column;align-items:flex-end}.styles__deckButton___1ZiHw-camelCase{display:flex;flex-direction:row;align-items:center;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer;margin:0;transition:.2s}.styles__deckButton___1ZiHw-camelCase:hover{transform:scale(.95)}.styles__deckIcon___3iMBs-camelCase{font-size:27px;margin-right:10px}.styles__deckIcon___3iMBs-camelCase,.styles__deckText___2iyXf-camelCase{text-shadow:2px 2px 8px grey}.styles__deckText___2iyXf-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:30px}.styles__deckContainer___D-bKm-camelCase{position:absolute;top:0;left:0;width:calc(100% - 10vw);min-height:calc(100% - 10vh);padding:5vh 5vw;background-color:rgba(0,0,0,.8);z-index:3;display:flex;flex-flow:row wrap;align-content:flex-start}.styles__cardContainer___s5OEX-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw}.styles__closeIcon___1VG82-camelCase{font-size:30px;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;top:1vw;right:1vw;color:#fff;transition:.2s}.styles__closeIcon___1VG82-camelCase:focus,.styles__closeIcon___1VG82-camelCase:hover{transform:scale(1.05)}.styles__lifeContainer___3dFEU-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(.6)}.styles__keyContainer___37Q8L-camelCase{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:650px;min-width:600px;max-height:90%;background-color:#292929;color:#fff;font-family:Nunito,sans-serif;box-shadow:0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;text-align:center;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:scroll}.styles__keyContainer___37Q8L-camelCase::-webkit-scrollbar{width:12px;margin-right:10px}.styles__keyContainer___37Q8L-camelCase::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.styles__keyContainer___37Q8L-camelCase::-webkit-scrollbar-thumb:hover{background:#777;border-radius:10px}.styles__keyHeader___2N8Tu-camelCase{font-size:52px;font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;margin:10px auto}.styles__keyRow___1eDZt-camelCase{display:flex;flex-direction:row;align-items:center;width:90%;margin:9px auto;font-size:18px}.styles__keyIcon___1bLra-camelCase{width:60px;font-size:36px;text-align:center;margin-right:10px}@media only screen and (max-width:800px){.styles__header___3XlLI-camelCase{font-size:52px;margin-top:70px}.styles__subheader___1U1jf-camelCase{font-size:24px}.styles__network___1SUlB-camelCase{top:200px}.styles__buttonContaner___1x60X-camelCase{right:0}.styles__deckButton___1ZiHw-camelCase{margin:2px 5px}.styles__deckIcon___3iMBs-camelCase{font-size:22px}.styles__deckText___2iyXf-camelCase{font-size:20px}.styles__deckContainer___D-bKm-camelCase{height:100%;overflow-y:auto}.styles__cardContainer___s5OEX-camelCase{transform:scale(1.1);margin:2.5vw 2vw}.styles__closeIcon___1VG82-camelCase{top:2vw;right:2vw}.styles__lifeContainer___3dFEU-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__keyContainer___37Q8L-camelCase{min-width:100px;width:90%}}",""]),t.locals={header:"styles__header___3XlLI-camelCase",subheader:"styles__subheader___1U1jf-camelCase",network:"styles__network___1SUlB-camelCase",buttonContainer:"styles__buttonContainer___GZANe-camelCase",deckButton:"styles__deckButton___1ZiHw-camelCase",deckIcon:"styles__deckIcon___3iMBs-camelCase",deckText:"styles__deckText___2iyXf-camelCase",deckContainer:"styles__deckContainer___D-bKm-camelCase",cardContainer:"styles__cardContainer___s5OEX-camelCase",closeIcon:"styles__closeIcon___1VG82-camelCase",lifeContainer:"styles__lifeContainer___3dFEU-camelCase",keyContainer:"styles__keyContainer___37Q8L-camelCase",keyHeader:"styles__keyHeader___2N8Tu-camelCase",keyRow:"styles__keyRow___1eDZt-camelCase",keyIcon:"styles__keyIcon___1bLra-camelCase",buttonContaner:"styles__buttonContaner___1x60X-camelCase"}},Vpc8:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("czhI"),f=a.n(p),_=a("0iT3"),d=a("iyvi"),h=a("PAX/"),y=a.n(h),w=a("9xwJ"),g=a.n(w),v=a("Z/x3"),b=a("z6Is"),C=a("iE/P"),x=a("cGkC"),k=a("GUYC");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function E(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=R(e);if(t){var r=R(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return I(this,a)}}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){return r.a.createElement("div",{className:y.a.stageText},33===e.stagesCleared?"You Won!":"".concat(e.stagesCleared," ").concat(1===e.stagesCleared?"Stage":"Stages"))},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(c,e);var t,a,s,n,o,i=O(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={ready:!1,numCorrect:0,numQuestions:0,standings:[],plus:!1,stagesCleared:0,message:"",name:""},t.here=!0,t.stats={},t.saveStats=t.saveStats.bind(j(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a,s,r,n,o,i,c,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"final"===this.props.tower.stage){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:(t=e.sent)||this.setState({notLoggedIn:!0}),this.props.tower&&this.props.tower.resultId&&f.a.put("/api/results",{id:this.props.tower.resultId,data:{corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,stage:this.props.tower.numNodes,alive:!1}}).catch((function(e){return console.error(e)})),a=0,s=0,Object.values(this.props.tower.corrects).forEach((function(e){a+=e,s+=e})),Object.values(this.props.tower.incorrects).forEach((function(e){s+=e})),r=Math.max(this.props.tower.numNodes-1,0),n=34-r,o="Chick",i=0,this.props.tower.cards.forEach((function(e){var t=e.strength+e.charisma+e.wisdom;t>i&&(i=t,o=e.blook)})),c=this.props.client&&this.props.client.name?this.props.client.name:"You",this.stats={place:n,stagesCleared:r,correctAnswers:a,blookUsed:o,nameUsed:c},t&&(this.saveStats(t.name,(function(){})),f.a.put("/api/users/plan",{name:t.name,stripeId:t.stripe}).then((function(e){l.here&&l.setState({ready:!0,name:t.name,plus:"Starter"!==e.data.plan||l.props.client&&l.props.client.plus})})).catch((function(e){console.error(e)})),this.props.tower.towerId&&(f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.delete("/api/towers",{params:{name:t.name,id:this.props.tower.towerId}}).catch((function(e){console.error(e)})))),this.setState({numCorrect:a,numQuestions:s,stagesCleared:r,message:Object(k.a)((n-1)/33),ready:!this.props.tower.towerId||this.state.ready,standings:[{name:c,blook:o,place:n,stagesCleared:r}]});case 20:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){S(r,a,s,o,i,"next",e)}function i(e){S(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.deleteTower(),this.props.deleteClient(),this.here=!1}},{key:"saveStats",value:function(e,t){f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.put("/api/users/towerstats",{name:e,place:this.stats.place,stagesCleared:this.stats.stagesCleared,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed,correctAnswers:this.stats.correctAnswers}).then((function(){t()})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){if(this.props.tower&&this.props.tower.resultId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.tower)return r.a.createElement(u.a,{to:"/login"});var e=this.props.tower&&this.props.tower.resultId;return r.a.createElement("div",{className:m.isMobile?g.a.mBody:g.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(b.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(v.a,{noRight:!e,rightText:"Play Again",rightLink:"/play"}),this.state.ready?r.a.createElement(x.a,{standings:this.state.standings,name:this.props.client&&this.props.client.name?this.props.client.name:"You",numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:33===this.state.stagesCleared?"You Won!":"Cleared ".concat(this.state.stagesCleared," ").concat(1===this.state.stagesCleared?"Stage":"Stages"),saveStats:this.saveStats,renderStandingStat:B,renderStats:function(){},customMessage:this.state.message,corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,questions:this.props.tower.questions,tokenMultiplier:.35}):null)}}])&&E(t.prototype,a),s&&E(t,s),c}(r.a.Component);z.propTypes={history:c.a.object.isRequired,tower:c.a.object,client:c.a.object,deleteTower:c.a.func.isRequired,deleteClient:c.a.func.isRequired,user:c.a.object};t.a=Object(C.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower,client:e.clients.client}}),(function(e){return Object(n.b)({deleteTower:_.a,deleteClient:d.a},e)}))(z)))},X2hk:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("czhI"),f=a.n(p),_=a("PZzA"),d=a("CByA"),h=a.n(d),y=a("9xwJ"),w=a.n(y),g=a("oi/j"),v=a("z6Is"),b=a("KS4/"),C=a("5Xst"),x=a("u6+k"),k=a.n(x),T=[{text:"Welcome to the Tower of Doom! Your goal is to ascend the Tower's 3 Haunted Floors.",nextButtonText:"Next",className:k.a.centered},{text:"Unfortunately, these floors are covered with enemies. You're going to need a deck to defend yourself.",nextButtonText:"Next",className:k.a.centered},{text:"Before you start climbing the Tower, you'll answer 5 questions to get your deck started! Answer 1 question now.",nextButtonText:"OK",className:k.a.centered},{},{text:"Great work! Now you get to choose a card to add to your deck.",nextButtonText:"Next",className:k.a.centered},{elementId:"card1",text:"You'll use Blook cards to battle. Each card has 3 attributes: Strength, Charisma, and Wisdom.",nextButtonText:"Next",elementClick:!0,className:k.a.card1},{elementId:"card1",text:"The greater the attribute, the better. Therefore, even though the Chick appears weak, it's Charisma can be very powerful.",nextButtonText:"Next",elementClick:!0,className:k.a.card1},{elementId:"card2",text:"This card is an Artifact. They aren't used in battle, but they apply effects that can help you.",nextButtonText:"Next",elementClick:!0,className:k.a.card2},{elementId:"card2",text:"Coins are earned after battles and are used to purchase cards in Shops. The Piggy Bank would help you earn more of these coins.",nextButtonText:"Next",elementClick:!0,className:k.a.card2},{elementId:"card1",text:"For now, let's just stick with the Chick. Go ahead and click the card to add it to your Deck!",elementClick:!0,functionIndex:0,className:k.a.card1},{text:"Awesome, now answer 4 more questions and choose 4 more cards. Then you'll be ready to take on the Tower of Doom!",nextButtonText:"OK",className:k.a.centered}],S=a("iE/P"),E=a("YoR9"),N=a("pnr8"),O=a("yIAc"),I=a("n/x7"),j=a("dLlt");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function P(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function A(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=H(e);if(t){var r=H(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return M(this,a)}}function M(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(c,e);var t,a,s,n,o,i=q(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={question:{},phase:"question",correct:!1,cards:[],artifacts:[],coins:0,askTour:!0,showTour:!1},t.freeQuestions=[],t.waiting=!1,t.done=!1,t.qRemaining=5,t.tourRef=r.a.createRef(),t.onAnswer=t.onAnswer.bind(L(t)),t.getQuestion=t.getQuestion.bind(L(t)),t.answerNext=t.answerNext.bind(L(t)),t.selectCard=t.selectCard.bind(L(t)),t.endTour=t.endTour.bind(L(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"start"===this.props.tower.stage&&this.props.tower.questions&&this.props.tower.questions.length){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:e.sent||this.setState({notLoggedIn:!0}),this.setState({coins:this.props.tower.coins}),this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.freeQuestions)),this.getQuestion();case 9:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){P(r,a,s,o,i,"next",e)}function i(e){P(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.waitTimeout)}},{key:"onAnswer",value:function(e){if(!this.waiting){this.waiting=!0;var t=this.state.question.correctAnswers.includes(e),a=JSON.parse(JSON.stringify(this.props.tower.corrects)),s=JSON.parse(JSON.stringify(this.props.tower.incorrects)),r=this.state.question.number;t?a[r]?a[r]+=1:a[r]=1:s[r]?s[r]+=1:s[r]=1,this.props.answerTower(a,s,JSON.parse(JSON.stringify(this.freeQuestions))),this.setState({correct:t,phase:"feedback"})}}},{key:"getQuestion",value:function(){var e=this;0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.questions)));var t=Object(j.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(j.v)(t.answers)),this.setState({question:t,phase:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1}),400)}))}},{key:"answerNext",value:function(){var e=this;this.state.correct?(this.qRemaining-=1,this.setState({phase:"card"},(function(){e.state.showTour&&e.tourRef.current.setStep(4)}))):this.getQuestion()}},{key:"selectCard",value:function(e,t){var a=this;if(!(this.done||this.state.showTour&&!t)){var s=B(this.state.cards),r=B(this.state.artifacts),n=this.state.coins;e.blook?(s.push(JSON.parse(JSON.stringify(e))),this.setState({cards:s})):(r.push(e),"Elder Coins"!==e||r.includes("Anubis' Obelisk")||(n+=100),this.setState({artifacts:r,coins:n})),this.qRemaining<=0?(this.done=!0,this.props.setTowerCards(s),this.props.setTowerArtifacts(r),this.props.setTowerCoins(n),this.props.tower.towerId?(f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.put("/api/towers/save",{id:this.props.tower.towerId,cards:s,artifacts:r,corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,stage:"map"}).then((function(){a.props.setTowerStage("map"),a.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map"))):this.getQuestion()}}},{key:"endTour",value:function(){this.setState({showTour:!1}),this.props.setTowerInstruct(!0)}},{key:"render",value:function(){var e=this;return this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower&&this.props.tower.questions&&this.props.tower.questions.length?r.a.createElement("div",{className:m.isMobile?w.a.mBody:w.a.body,id:"body",style:{backgroundColor:"#292929"}},r.a.createElement(v.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(g.a,{coins:this.state.coins||this.props.tower.coins,showRead:this.state.question.correctAnswers&&"question"===this.state.phase}),this.state.showTour?r.a.createElement(C.a,{steps:T,onExit:this.endTour,functions:[function(){return e.selectCard(I.e,!0)}],ref:this.tourRef}):null,this.state.question.correctAnswers?"question"===this.state.phase?r.a.createElement("div",{className:h.a.questionContainer},r.a.createElement(E.a,{onAnswer:this.onAnswer,text:this.state.question.text,answers:this.state.question.answers,image:this.state.question.image})):"feedback"===this.state.phase?r.a.createElement(N.a,{incorrectTime:3,correctAnswers:this.state.question.correctAnswers,correct:this.state.correct,onNext:this.answerNext}):r.a.createElement("div",{className:w.a.regularBody},r.a.createElement(O.a,{type:"small",onClick:this.selectCard,cards:[].concat(B(this.state.artifacts),B(this.state.cards)),noArtifacts:0===this.state.cards.length,noThird:this.state.artifacts.includes("Pink Hippo"),isTutorial:this.state.showTour})):null,this.state.askTour?r.a.createElement(b.a,{text:"Would you like a quick tutorial?",buttonOne:{text:"Yes",click:function(){return e.setState({askTour:!1,showTour:!0})},color:"blue"},buttonTwo:{text:"No",click:function(){return e.setState({askTour:!1})},color:"blue"}}):null):r.a.createElement(u.a,{to:"/login"})}}])&&A(t.prototype,a),s&&A(t,s),c}(r.a.Component);G.propTypes={history:c.a.object.isRequired,tower:c.a.object,answerTower:c.a.func.isRequired,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerArtifacts:c.a.func.isRequired,setTowerCoins:c.a.func.isRequired,setTowerInstruct:c.a.func.isRequired,user:c.a.object};t.a=Object(S.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(n.b)({answerTower:_.a,setTowerCards:_.c,setTowerStage:_.g,setTowerArtifacts:_.b,setTowerCoins:_.d,setTowerInstruct:_.e},e)}))(G)))},aTwS:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".tourSteps__centered___3m8ZN-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__myCard___1LHxZ-camelCase{top:50%;left:50vw}.tourSteps__myCard___1LHxZ-camelCase,.tourSteps__oppCard___1JfLi-camelCase{transform:translateY(-50%)}.tourSteps__oppCard___1JfLi-camelCase{top:calc(15.6875vw + 55px);right:45vw}@media only screen and (max-width:600px){.tourSteps__myCard___1LHxZ-camelCase{top:auto;left:5vw;bottom:calc(20% + 45vw);transform:none}.tourSteps__oppCard___1JfLi-camelCase{top:75vw;right:5vw;transform:none}}",""]),t.locals={centered:"tourSteps__centered___3m8ZN-camelCase",myCard:"tourSteps__myCard___1LHxZ-camelCase",oppCard:"tourSteps__oppCard___1JfLi-camelCase"}},cmwg:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".tourSteps__centered___2-4so-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__topRight___RzKF2-camelCase{right:2vw;top:calc(115px + 5vw)}@media only screen and (max-width:800px){.tourSteps__topRight___RzKF2-camelCase{top:calc(80px + 16vw)}}",""]),t.locals={centered:"tourSteps__centered___2-4so-camelCase",topRight:"tourSteps__topRight___RzKF2-camelCase"}},hk6p:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("czhI"),f=a.n(p),_=a("PZzA"),d=a("LWF6"),h=a.n(d),y=a("9xwJ"),w=a.n(y),g=a("oi/j"),v=a("z6Is"),b=a("iE/P"),C=a("dLlt"),x=a("n/x7"),k=function(e,t){var a={},s=0;if("+"===t){s=Math.round(.01*Object(C.q)(25,41)*(100-e))||10;var r=Object(C.o)(x.b[0===Object(C.q)(0,2)?"uncommon":"rare"]);a={blook:r,strength:Object(C.q)(16,19),charisma:Object(C.q)(16,19),wisdom:Object(C.q)(16,19),class:x.c[r].class}}else{s=-Math.round(.01*Object(C.q)(30,46)*e)||-10;var n=Object(C.o)(x.b.common);a={blook:n,strength:Object(C.q)(0,5),charisma:Object(C.q)(0,5),wisdom:Object(C.q)(0,5),class:x.c[n].class}}return{card:a,health:s}},T=a("0SMU"),S=a("VBT1");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function I(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function j(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=A(e);if(t){var r=A(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return z(this,a)}}function z(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,a,s,n,o,i=B(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={card:{},health:0,riskText:""},t.ready=!1,t.onSelect=t.onSelect.bind(P(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"risk"===this.props.tower.stage){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:e.sent||this.setState({notLoggedIn:!0}),t=k(this.props.tower.life,this.props.tower.enemy),a="".concat(t.card.strength,"/").concat(t.card.charisma,"/").concat(t.card.wisdom," ").concat(t.card.blook," Card"),this.setState({card:t.card,health:t.health,riskText:"Gain a ".concat(a," or ").concat(t.health>0?"Heal for":"Sacrifice"," ").concat(Math.abs(t.health)," Health?")},(function(){s.waitTimeout=setTimeout((function(){s.ready=!0}),1e3)}));case 9:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){I(r,a,s,o,i,"next",e)}function i(e){I(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.waitTimeout)}},{key:"onSelect",value:function(e){var t=this;if(this.ready){var a=N(this.props.tower.cards),s=this.props.tower.life;e?(a=[].concat(N(this.props.tower.cards),[this.state.card]),this.props.setTowerCards(a)):(s+=this.state.health,this.props.setTowerLife(s)),this.props.tower.towerId?(f.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,f.a.put("/api/towers/save",{id:this.props.tower.towerId,stage:"map",cards:a,life:s}).then((function(){t.props.setTowerStage("map"),t.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map"))}}},{key:"render",value:function(){var e=this;return this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.tower?r.a.createElement(u.a,{to:"/login"}):r.a.createElement("div",{className:m.isMobile?w.a.mBody:w.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(v.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(g.a,{coins:this.props.tower.coins}),this.state.health?r.a.createElement("div",{className:w.a.regularBody,style:{overflow:"hidden"}},r.a.createElement("div",{className:h.a.lifeContainer},r.a.createElement(T.a,{currentLife:this.props.tower.life,maxLife:100})),r.a.createElement(S.a,{name:this.state.card.blook,className:h.a.blook}),r.a.createElement("div",{className:h.a.textContainer},r.a.createElement("div",{className:h.a.riskText},this.state.riskText),r.a.createElement("div",{className:h.a.buttonContainer},r.a.createElement("div",{className:h.a.button,role:"button",tabIndex:0,onClick:function(){return e.onSelect(!0)}},"Card"),r.a.createElement("div",{className:h.a.button,role:"button",tabIndex:0,onClick:function(){return e.onSelect(!1)}},"Health")))):null)}}])&&j(t.prototype,a),s&&j(t,s),c}(r.a.Component);D.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(b.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(n.b)({setTowerCards:_.c,setTowerStage:_.g,setTowerLife:_.f},e)}))(D)))},jXMN:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("8Jek"),f=a.n(p),_=a("czhI"),d=a.n(_),h=a("PZzA"),y=a("CPUM"),w=a.n(y),g=a("9xwJ"),v=a.n(g),b=a("oi/j"),C=a("z6Is"),x=a("iE/P"),k=a("n/x7"),T=a("dLlt"),S=a("YZKB"),E={Common:[10,26],Uncommon:[30,56],Rare:[50,76],Epic:[75,101],Legendary:[100,126]},N=function(){var e=Object(k.d)("boss",6),t=[];return e.forEach((function(e){var a=e.blook?E[Object(S.a)(e.blook)]:E[k.a[e].rarity];t.push({card:e,price:Object(T.q)(a[0],a[1])})})),t},O=a("0SMU"),I=a("Cr9M"),j=a("KS4/");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function P(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function A(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=H(e);if(t){var r=H(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return M(this,a)}}function M(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(c,e);var t,a,s,n,o,i=q(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={cards:[],artifacts:[],shopItems:[],coins:0,noBuy:!1,showDeck:!1,phase:"",buyCard:{},buyPrice:0,shopMultiplier:1},t.ready=!1,t.removeReady=!1,t.onBuy=t.onBuy.bind(L(t)),t.leave=t.leave.bind(L(t)),t.selectCard=t.selectCard.bind(L(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"shop"===this.props.tower.stage){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:e.sent||this.setState({notLoggedIn:!0}),t=1,this.props.tower.artifacts.forEach((function(e){"Coupon"===e&&(t-=.1)})),this.setState({shopItems:N(),cards:JSON.parse(JSON.stringify(this.props.tower.cards)),artifacts:B(this.props.tower.artifacts),coins:this.props.tower.coins,shopMultiplier:t,phase:"shop"},(function(){a.waitTimeout=setTimeout((function(){a.ready=!0}),1e3)}));case 9:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){P(r,a,s,o,i,"next",e)}function i(e){P(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.waitTimeout),clearTimeout(this.removeTimeout)}},{key:"onBuy",value:function(e,t,a){var s=this;if(this.ready){if(this.ready=!1,t>this.state.coins)return this.setState({noBuy:!0}),void(this.ready=!0);if("card"===e){var r=B(this.state.shopItems),n=r.map((function(e){return e.card})).indexOf(a);if(-1===n)return void(this.ready=!0);r.splice(n,1);var o=B(this.state.cards),i=B(this.state.artifacts);a.blook?(o.push(a),this.props.setTowerCards(o)):(i.push(a),this.props.setTowerArtifacts(i));var c=1;i.forEach((function(e){"Coupon"===e&&(c-=.1)}));var l=this.state.coins-t;"Elder Coins"!==a||this.state.artifacts.includes("Anubis' Obelisk")||(l+=100),this.props.setTowerCoins(l),this.setState({shopItems:r,cards:o,artifacts:i,coins:l,buyCard:{},buyPrice:0,shopMultiplier:c},(function(){s.ready=!0}))}else this.ready=!0,this.removeReady=!1,this.setState({phase:"removeSelect"},(function(){s.removeTimeout=setTimeout((function(){s.removeReady=!0}),1e3)}))}}},{key:"leave",value:function(){var e=this,t=this.props.tower.life;this.state.artifacts.forEach((function(e){"Cheese"===e&&(t=Math.min(100,t+5))})),t!==this.props.tower.life&&this.props.setTowerLife(t),this.props.tower.towerId?(d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,d.a.put("/api/towers/save",{id:this.props.tower.towerId,stage:"map",cards:this.state.cards,artifacts:this.state.artifacts,coins:this.state.coins,life:t}).then((function(){e.props.setTowerStage("map"),e.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map"))}},{key:"selectCard",value:function(e){var t=this;if(this.removeReady){var a=B(this.state.cards),s=B(this.state.artifacts);a.includes(e)?(a.splice(a.indexOf(e),1),this.props.setTowerCards(a)):s.includes(e)&&(s.splice(s.indexOf(e),1),this.props.setTowerArtifacts(s));var r=Math.round(50*this.state.shopMultiplier);this.props.setTowerCoins(this.props.tower.coins-r);var n=1;s.forEach((function(e){"Coupon"===e&&(n-=.1)})),this.setState({phase:"removeReveal",card:e},(function(){t.removeTimeout=setTimeout((function(){t.setState({phase:"shop",cards:a,artifacts:s,coins:t.state.coins-r,shopMultiplier:n},(function(){t.waitTimeout=setTimeout((function(){t.ready=!0}),1e3)}))}),5e3)}))}}},{key:"render",value:function(){var e=this;return this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.tower?r.a.createElement(u.a,{to:"/login"}):r.a.createElement("div",{className:m.isMobile?v.a.mBody:v.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(C.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(b.a,{coins:this.state.coins}),"shop"===this.state.phase?r.a.createElement("div",{className:v.a.regularBody,style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:w.a.lifeContainer},r.a.createElement(O.a,{currentLife:this.props.tower.life,maxLife:100})),r.a.createElement("div",{className:w.a.deckButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!0})}},r.a.createElement("i",{className:f()("fas fa-layer-group",w.a.deckIcon)}),r.a.createElement("div",{className:w.a.deckText},"View Deck")),r.a.createElement("div",{className:w.a.leaveButton,role:"button",tabIndex:0,onClick:this.leave},r.a.createElement("i",{className:f()("fas fa-door-open",w.a.deckIcon)}),r.a.createElement("div",{className:w.a.deckText},"Leave Shop")),r.a.createElement("div",{className:w.a.shopContainer},this.state.cards.length>1?r.a.createElement("div",{className:w.a.removeButton,role:"button",tabIndex:0,onClick:function(){return e.onBuy("remove",Math.round(50*e.state.shopMultiplier))}},r.a.createElement("div",{className:w.a.removeButtonText},"Remove",r.a.createElement("br",null),"a Card"),r.a.createElement("i",{className:f()("fas fa-trash-alt",w.a.removeIcon)}),r.a.createElement("div",{className:w.a.removeCost},Math.round(50*this.state.shopMultiplier),r.a.createElement("i",{className:f()("fas fa-coins",w.a.removeCostIcon)}))):null,r.a.createElement("div",{className:w.a.cardsHolder},this.state.shopItems.map((function(t,a){return r.a.createElement("div",{className:w.a.shopCardContainer,key:a,role:"button",tabIndex:0,onClick:function(){return Math.round(t.price*e.state.shopMultiplier)>e.state.coins?e.setState({noBuy:!0}):e.setState({buyCard:t.card,buyPrice:Math.round(t.price*e.state.shopMultiplier)})}},r.a.createElement(I.a,{card:t.card,flipped:!1,isArtifact:!t.card.blook}),r.a.createElement("div",{className:w.a.priceText},Math.round(t.price*e.state.shopMultiplier),r.a.createElement("i",{className:f()("fas fa-coins",w.a.priceIcon)})))})))),this.state.showDeck?r.a.createElement("div",{className:w.a.deckContainer},[].concat(B(this.state.artifacts),B(this.state.cards)).map((function(e,t){return r.a.createElement("div",{className:w.a.cardContainer,key:t},r.a.createElement(I.a,{card:e,flipped:!1,isArtifact:!e.blook}))})),r.a.createElement("i",{className:f()("fas fa-times",w.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!1})}})):null):"removeSelect"===this.state.phase?r.a.createElement("div",{className:v.a.regularBody},r.a.createElement("div",{className:w.a.removeText},"Choose a Card to Remove"),r.a.createElement("div",{className:w.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({phase:"shop"})}},"Back"),r.a.createElement("div",{className:w.a.removeDeckContainer},[].concat(B(this.state.artifacts),B(this.state.cards)).map((function(t,a){return r.a.createElement("div",{className:w.a.removeCardContainer,key:a,role:"button",tabIndex:0,onClick:function(){return e.selectCard(t)}},r.a.createElement(I.a,{card:t,flipped:!1,isArtifact:!t.blook}))})))):"removeReveal"===this.state.phase?r.a.createElement("div",{className:v.a.regularBody,style:{overflow:"hidden"}},r.a.createElement("div",{className:w.a.removeText},"Removing Card from Deck"),r.a.createElement("div",{className:w.a.cardRemove},r.a.createElement(I.a,{card:this.state.card,flipped:!1,isArtifact:!this.state.card.blook}))):null,this.state.noBuy?r.a.createElement(j.a,{text:"You don't have enough coins to buy this item!",isDark:!0,buttonOne:{text:"Ok",click:function(){return e.setState({noBuy:!1})},color:"white"}}):this.state.buyPrice?r.a.createElement(j.a,{text:"Buy the ".concat(this.state.buyCard.blook||this.state.buyCard," card for ").concat(this.state.buyPrice," coins?"),isDark:!0,buttonOne:{text:"Yes",click:function(){return e.onBuy("card",e.state.buyPrice,e.state.buyCard)},color:"white"},buttonTwo:{text:"No",click:function(){return e.setState({buyCard:{},buyPrice:0})},color:"white"}}):null)}}])&&A(t.prototype,a),s&&A(t,s),c}(r.a.Component);G.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerCoins:c.a.func.isRequired,setTowerArtifacts:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(x.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(n.b)({setTowerCards:h.c,setTowerStage:h.g,setTowerCoins:h.d,setTowerArtifacts:h.b,setTowerLife:h.f},e)}))(G)))},kfgF:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__deckButton___20lRh-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;right:1vw;color:#fff;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__deckButton___20lRh-camelCase:hover{transform:scale(1.05)}.styles__leaveButton___vk2QO-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;bottom:1vw;right:1vw;color:#ff5050;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__leaveButton___vk2QO-camelCase:hover{transform:scale(1.05)}.styles__deckIcon___LHmZe-camelCase{font-size:27px;margin-right:10px}.styles__deckText___a_rcY-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:30px}.styles__deckContainer___18nxw-camelCase{position:absolute;top:0;left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;background-color:rgba(0,0,0,.8);z-index:3;display:flex;flex-flow:row wrap;align-content:flex-start}.styles__cardContainer___O3GGg-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw}.styles__closeIcon___3AbN7-camelCase{font-size:30px;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;top:1vw;right:1vw;color:#fff;transition:.2s}.styles__closeIcon___3AbN7-camelCase:focus,.styles__closeIcon___3AbN7-camelCase:hover{transform:scale(1.05)}.styles__shopContainer___lBHT6-camelCase{flex-direction:row;width:75vw;height:95%;margin:auto auto auto 14vw}.styles__cardsHolder___2euUq-camelCase,.styles__shopContainer___lBHT6-camelCase{display:flex;align-items:center}.styles__cardsHolder___2euUq-camelCase{flex-flow:row wrap;justify-content:center;width:82.5%;height:100%}.styles__shopCardContainer___2iXcS-camelCase{display:flex;flex-direction:column;width:25vw;transform:scale(.55);margin:-9vw -3.25vw;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__shopCardContainer___2iXcS-camelCase:hover{transform:scale(.53)}.styles__priceText___2Bvds-camelCase{font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;width:100%;text-align:center;margin-top:.5vw;font-size:3.5vw;display:flex;flex-direction:row;align-items:center;justify-content:center}.styles__priceIcon___1wqAh-camelCase{margin-left:1vw;font-size:3vw}.styles__removeButton___1CQNj-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;font-size:2.5vw;line-height:2.65vw;box-shadow:0 0 8px 3px rgba(0,0,0,.2);height:50%;width:17.5%;margin:auto;border-radius:6px;background-color:#ff5050;text-align:center;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__removeButton___1CQNj-camelCase:hover{transform:scale(.95)}.styles__removeButtonText___G2C33-camelCase{margin:0 auto}.styles__removeIcon___3VRkj-camelCase{font-size:6vw;margin:2vw auto}.styles__removeCost___3AllN-camelCase{display:flex;flex-direction:row;align-items:center;font-size:2.5vw;margin:0 auto}.styles__removeCostIcon___24YMm-camelCase{margin-left:1vw;font-size:2.2vw}.styles__removeDeckContainer___zGCGd-camelCase{position:absolute;top:calc(10% + 3vw);left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;z-index:3;display:flex;flex-flow:row wrap;-webkit-animation:styles__fadeIn___1g0jr-camelCase .3s;animation:styles__fadeIn___1g0jr-camelCase .3s}.styles__removeCardContainer___3k9Lt-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;transition:.2s}.styles__removeCardContainer___3k9Lt-camelCase:hover{transform:scale(.75)}.styles__removeText___1j-sC-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:5vw;position:absolute;width:80%;top:5%;left:10%;text-align:center;-webkit-animation:styles__fadeIn___1g0jr-camelCase .3s;animation:styles__fadeIn___1g0jr-camelCase .3s}.styles__backButton___1IA2n-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;left:1vw;color:#fff;font-family:Nunito,sans-serif;font-weight:700;font-size:30px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__backButton___1IA2n-camelCase:hover{transform:scale(1.05)}.styles__lifeContainer___2DPxy-camelCase{position:absolute;top:0;left:0;transform:scale(.6);height:15vw;width:15vw}.styles__cardRemove___1yOKP-camelCase{width:25vw;height:32.5vw;position:absolute;top:calc(50% - 12vw);left:calc(50% - 12.5vw);-webkit-animation:styles__spinRemove___2hgY8-camelCase 4s ease-in .5s forwards;animation:styles__spinRemove___2hgY8-camelCase 4s ease-in .5s forwards}@-webkit-keyframes styles__spinRemove___2hgY8-camelCase{0%{transform:rotate(0deg) scale(1)}to{transform:rotate(10turn) scale(0)}}@keyframes styles__spinRemove___2hgY8-camelCase{0%{transform:rotate(0deg) scale(1)}to{transform:rotate(10turn) scale(0)}}@-webkit-keyframes styles__fadeIn___1g0jr-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___1g0jr-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-width:800px){.styles__deckButton___20lRh-camelCase{right:0}.styles__deckButton___20lRh-camelCase,.styles__deckButton___20lRh-camelCase:hover{transform:scale(.8)}.styles__deckContainer___18nxw-camelCase{transform:scale(1.1);margin:2.5vw 2vw}.styles__closeIcon___3AbN7-camelCase{top:5vw;right:8.5vw}.styles__lifeContainer___2DPxy-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__shopContainer___lBHT6-camelCase{flex-direction:column;margin:20% auto 5%;align-items:center;width:95%;height:75%}.styles__removeButton___1CQNj-camelCase{flex-direction:row;justify-content:space-evenly;font-size:5vw;line-height:5.15vw;height:15%;width:75%;margin:auto}.styles__removeIcon___3VRkj-camelCase{display:none}.styles__removeCost___3AllN-camelCase{font-weight:700;font-size:5.5vw}.styles__removeCostIcon___24YMm-camelCase{margin-left:3vw;font-size:5.2vw}.styles__shopCardContainer___2iXcS-camelCase{width:25vw;height:32.5vw;margin:-4vw 3vw}.styles__shopCardContainer___2iXcS-camelCase,.styles__shopCardContainer___2iXcS-camelCase:hover{transform:scale(.95)}.styles__priceText___2Bvds-camelCase{margin-top:2vw}.styles__cardsHolder___2euUq-camelCase{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;width:100%}.styles__removeText___1j-sC-camelCase{font-size:9vw;top:7.5%}.styles__removeDeckContainer___zGCGd-camelCase{top:17.5%;align-content:flex-start;min-height:75%;width:95%;padding:5% 2.5%}.styles__removeCardContainer___3k9Lt-camelCase{width:25vw;height:32.5vw;transform:scale(.95);margin:2vw 3vw}.styles__removeCardContainer___3k9Lt-camelCase:hover{transform:scale(.95)}.styles__cardRemove___1yOKP-camelCase{transform:scale(1.5);-webkit-animation:styles__spinRemove___2hgY8-camelCase 4s ease-in .5s forwards;animation:styles__spinRemove___2hgY8-camelCase 4s ease-in .5s forwards}@-webkit-keyframes styles__spinRemove___2hgY8-camelCase{0%{transform:rotate(0deg) scale(1.5)}to{transform:rotate(10turn) scale(0)}}@keyframes styles__spinRemove___2hgY8-camelCase{0%{transform:rotate(0deg) scale(1.5)}to{transform:rotate(10turn) scale(0)}}}",""]),t.locals={deckButton:"styles__deckButton___20lRh-camelCase",leaveButton:"styles__leaveButton___vk2QO-camelCase",deckIcon:"styles__deckIcon___LHmZe-camelCase",deckText:"styles__deckText___a_rcY-camelCase",deckContainer:"styles__deckContainer___18nxw-camelCase",cardContainer:"styles__cardContainer___O3GGg-camelCase",closeIcon:"styles__closeIcon___3AbN7-camelCase",shopContainer:"styles__shopContainer___lBHT6-camelCase",cardsHolder:"styles__cardsHolder___2euUq-camelCase",shopCardContainer:"styles__shopCardContainer___2iXcS-camelCase",priceText:"styles__priceText___2Bvds-camelCase",priceIcon:"styles__priceIcon___1wqAh-camelCase",removeButton:"styles__removeButton___1CQNj-camelCase",removeButtonText:"styles__removeButtonText___G2C33-camelCase",removeIcon:"styles__removeIcon___3VRkj-camelCase",removeCost:"styles__removeCost___3AllN-camelCase",removeCostIcon:"styles__removeCostIcon___24YMm-camelCase",removeDeckContainer:"styles__removeDeckContainer___zGCGd-camelCase",fadeIn:"styles__fadeIn___1g0jr-camelCase",removeCardContainer:"styles__removeCardContainer___3k9Lt-camelCase",removeText:"styles__removeText___1j-sC-camelCase",backButton:"styles__backButton___1IA2n-camelCase",lifeContainer:"styles__lifeContainer___2DPxy-camelCase",cardRemove:"styles__cardRemove___1yOKP-camelCase",spinRemove:"styles__spinRemove___2hgY8-camelCase"}},mjaa:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__header___3jngU-camelCase{font-size:8vw;width:80%;margin:0 5%;text-align:left;font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__buttonContainer___264zY-camelCase{width:80%;margin:40px 5% 0;display:flex;flex-flow:column;align-items:flex-start}.styles__button___3AEF5-camelCase{font-size:3vw;font-family:Creepster,sans-serif;font-weight:700;text-shadow:2px 2px 8px grey;color:#fff;opacity:.8;margin:5px 0;text-align:left;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__button___3AEF5-camelCase:hover{transform:scale(1.05);opacity:1}.styles__cardContainer___3272B-camelCase{width:25vw;height:32.5vw;z-index:-1;position:absolute}.styles__card1___1vAkK-camelCase{top:50%;left:80%;transform:scale(.65) rotate(-20deg) translate(-50%,-50%)}.styles__card2___2nfj0-camelCase{top:20%;left:60%;transform:scale(.65) rotate(10deg) translate(-50%,-50%)}.styles__card3___1Fuz9-camelCase{top:20%;left:40%;transform:scale(.65) rotate(5deg) translate(-50%,-50%)}.styles__card4___2Xnhv-camelCase{top:55%;left:50%;transform:scale(.65) rotate(-10deg) translate(-50%,-50%)}.styles__card5___3UHIj-camelCase{top:19%;left:80%;transform:scale(.65) rotate(15deg) translate(-50%,-50%)}.styles__loginText___smvE3-camelCase{position:absolute;bottom:1%;width:90%;left:5%;font-size:18px;font-family:Nunito,sans-serif}.styles__loginText___smvE3-camelCase,.styles__savesHeader___3x7Mc-camelCase{text-align:center;text-shadow:2px 2px 8px grey;color:#fff}.styles__savesHeader___3x7Mc-camelCase{font-size:68px;width:80%;margin:70px 10% 50px;font-family:Creepster,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.styles__savesHolder___2i6gv-camelCase{width:90%;margin:5px 5%;display:flex;flex-direction:row;justify-content:space-evenly}.styles__saveContainer___3z-n0-camelCase{background-color:#404040;border:7px solid #333;border-radius:6px;display:flex;flex-direction:column;max-width:300px;margin:15px 20px;flex-grow:1;font-family:Nunito,sans-serif;color:#fff;text-shadow:2px 2px 8px grey}.styles__saveTitle___APMUz-camelCase{font-size:42px;line-height:45px;margin:5px 5% 0}.styles__saveSubTitle___xcFKp-camelCase,.styles__saveTitle___APMUz-camelCase{font-weight:700;width:90%}.styles__saveSubTitle___xcFKp-camelCase{font-size:32px;margin:0 5%;opacity:.75}.styles__saveRow___28LFJ-camelCase{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:90%;margin:5px auto;font-size:22px;height:25px}.styles__saveIcon___20hKZ-camelCase{width:38px;text-align:center;margin-left:5px}.styles__saveHealthHolder___2_x2K-camelCase{height:18px;width:calc(100% - 43px);margin-right:auto;background-color:#c43a35;border-radius:5px;overflow:hidden}.styles__saveHealthBar___3IXCD-camelCase{width:100%;height:100%;background-color:#4bc22e;transform-origin:left}.styles__loadButton___-ygzL-camelCase{background-color:#404040;border:7px solid #333;box-shadow:0 0 8px 3px rgba(0,0,0,.2);border-radius:6px;display:flex;justify-content:center;align-items:center;margin:15px auto;font-family:Nunito,sans-serif;font-weight:700;font-size:26px;padding:5px 13px;color:#fff;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__loadButton___-ygzL-camelCase:hover{transform:scale(.95)}.styles__emptySave___12A27-camelCase{font-size:54px;padding:20px 0;margin:auto;font-weight:700}.styles__backButton___3A8Cd-camelCase{position:absolute;top:10px;left:10px;font-size:30px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;color:#fff;text-shadow:2px 2px 8px grey}.styles__backButton___3A8Cd-camelCase,.styles__stageText___1yz8d-camelCase{font-family:Nunito,sans-serif}.styles__stageText___1yz8d-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;text-align:right;overflow:hidden}@media only screen and (max-width:800px){.styles__header___3jngU-camelCase{font-size:25vw}.styles__button___3AEF5-camelCase{font-size:10vw}.styles__cardContainer___3272B-camelCase{display:none;opacity:0}.styles__savesHolder___2i6gv-camelCase{width:90%;margin:5px 5%;flex-direction:column;justify-content:space-evenly;align-items:center}.styles__saveContainer___3z-n0-camelCase{width:300px;margin:15px 20px}.styles__savesHeader___3x7Mc-camelCase{font-size:68px;margin:40px 10% 10px}.styles__backButton___3A8Cd-camelCase{font-size:26px}}",""]),t.locals={header:"styles__header___3jngU-camelCase",buttonContainer:"styles__buttonContainer___264zY-camelCase",button:"styles__button___3AEF5-camelCase",cardContainer:"styles__cardContainer___3272B-camelCase",card1:"styles__card1___1vAkK-camelCase",card2:"styles__card2___2nfj0-camelCase",card3:"styles__card3___1Fuz9-camelCase",card4:"styles__card4___2Xnhv-camelCase",card5:"styles__card5___3UHIj-camelCase",loginText:"styles__loginText___smvE3-camelCase",savesHeader:"styles__savesHeader___3x7Mc-camelCase",savesHolder:"styles__savesHolder___2i6gv-camelCase",saveContainer:"styles__saveContainer___3z-n0-camelCase",saveTitle:"styles__saveTitle___APMUz-camelCase",saveSubTitle:"styles__saveSubTitle___xcFKp-camelCase",saveRow:"styles__saveRow___28LFJ-camelCase",saveIcon:"styles__saveIcon___20hKZ-camelCase",saveHealthHolder:"styles__saveHealthHolder___2_x2K-camelCase",saveHealthBar:"styles__saveHealthBar___3IXCD-camelCase",loadButton:"styles__loadButton___-ygzL-camelCase",emptySave:"styles__emptySave___12A27-camelCase",backButton:"styles__backButton___3A8Cd-camelCase",stageText:"styles__stageText___1yz8d-camelCase"}},mxs5:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("4Ebc"),p=a("8Jek"),f=a.n(p),_=a("czhI"),d=a.n(_),h=a("9xwJ"),y=a.n(h),w=a("MY4J"),g=a.n(w),v=a("oi/j"),b=a("z6Is"),C=a("5Xst"),x=a("rWVh"),k=a.n(x),T=[{text:"You've encountered an evil Blook! In order to survive, you'll have to reduce its health to 0 while keeping yours above 0.",nextButtonText:"Next",className:k.a.centered},{text:"Battles are broken down into rounds. Each round you'll have to answer one question.",nextButtonText:"Next",className:k.a.centered},{elementId:"myCard",text:"Before that, you can take a look at the card you drew this round.",nextButtonText:"Next",className:k.a.myCard},{elementId:"oppCard",text:"Similarly, your opponent also drew a card this round. Your goal each round is for your card to be stronger than this one.",nextButtonText:"Next",className:k.a.oppCard},{elementId:"myCard",text:"To determine the stronger card, one attribute (Strength, Charisma, or Wisdom) will be chosen each round.",nextButtonText:"Next",className:k.a.myCard},{elementId:"oppCard",text:"Unfortunately, you can't see your opponent's card before battle. You're best bet is to choose your strongest attribute.",nextButtonText:"Next",className:k.a.oppCard},{text:"Whoever's card has the highest value of that attribute wins. Then, the winner deals damage equal to how much stronger they were.",nextButtonText:"Next",className:k.a.centered},{text:"Also, winning multiple rounds in a row will give you a streak. The damage you deal will be multiplied by that streak number.",nextButtonText:"Next",className:k.a.centered},{text:"If you answer the question correctly each round, you'll get to pick the attribute. Answering incorrectly means your opponent gets to choose.",nextButtonText:"Next",functionIndex:0,className:k.a.centered},{elementId:"myCard",text:"Let's assume you answer the first question correctly. Now, go ahead and click an attribute bar on your card.",className:k.a.myCard},{},{text:"Great work! If your health drops to 0 your game is over, but if you win the battle then you'll get to add another card to your deck.",nextButtonText:"Next",className:k.a.centered},{text:"That's all for the tutorial. Good luck ascending the Tower of Doom!",nextButtonText:"Done",className:k.a.centered}],S=a("iE/P"),E=a("KsRT");function N(e){return{type:E.a,mapNodes:e}}var O=a("Cs4o"),I=a("PZzA"),j=a("Cr9M"),R=a("VBT1"),B=a("0SMU"),z=a("YoR9"),P=a("pnr8"),A=a("yIAc"),D=a("oJE2"),q=a("n/x7"),M=a("6I7g"),L=a("dLlt");function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],s=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(s=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);s=!0);}catch(e){r=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(r)throw n}}return a}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){J(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function Y(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function X(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=te(e);if(t){var r=te(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return $(this,a)}}function $(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?ee(e):t}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(c,e);var t,a,s,n,o,i=V(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={enemy:{},myCards:[],phase:"draw",enemyCard:{},myCard:{},myFlipped:!0,enemyFlipped:!0,myLife:100,result:"tie",damage:0,rawDamage:0,question:{},correct:!1,streak:0,myStreak:!0,coins:0,usedShield:!1,showTour:e.tower&&e.tower.instruct},t.waitingCard=!1,t.waitingQuestion=!1,t.allEnemyCards=[],t.freeQuestions=[],t.isFirstTurn=!0,t.hasShield=!1,t.tourRef=r.a.createRef(),t.onSelect=t.onSelect.bind(ee(t)),t.onAnswer=t.onAnswer.bind(ee(t)),t.onWin=t.onWin.bind(ee(t)),t.getQuestion=t.getQuestion.bind(ee(t)),t.answerNext=t.answerNext.bind(ee(t)),t.drawCards=t.drawCards.bind(ee(t)),t.selectCard=t.selectCard.bind(ee(t)),t}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){var t,a,s,r,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&["small","big","boss"].includes(this.props.tower.stage)&&this.props.tower.questions&&this.props.tower.questions.length){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return e.next=4,this.props.user.getData();case 4:if(e.sent||this.setState({notLoggedIn:!0}),this.props.setTowerInstruct(!1),(t={blooks:this.props.tower.enemy}).blook=this.props.tower.enemy,a=D.a[t.blook].maxLife+10*(this.props.tower.level-1),t.life=a,t.maxLife=a,s=D.a[t.blook].deckBlooks,t.cards=[],s.forEach((function(e){var a=q.c[e];t.cards.push({blook:e,class:a.class,strength:Math.min(a.strength+o.props.tower.level-1,20),charisma:Math.min(a.charisma+o.props.tower.level-1,20),wisdom:Math.min(a.wisdom+o.props.tower.level-1,20)})})),this.allEnemyCards=t.cards,r=this.props.tower.life,n=!1,this.props.tower.artifacts.forEach((function(e){"Survival Guide"===e?r=Math.min(100,r+3):"Band-Aid"===e&&"boss"===o.props.tower.stage?r=Math.min(100,r+15):"Mighty Shield"===e?o.hasShield=!0:"Cursed Hourglass"===e&&(r=Math.max(0,r-3),t.life=Math.max(0,t.life-10),r<=0?(n=!0,o.props.setTowerLife(0),o.props.setTowerStage("final"),o.props.history.push("/tower/final")):t.life<=0&&(n=!0,o.setState({myLife:r},(function(){o.onWin()}))))})),!n){e.next=21;break}return e.abrupt("return");case 21:this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.freeQuestions)),this.setState({enemy:t,myCards:U(this.props.tower.cards),myLife:r},this.drawCards);case 23:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(a,s){var r=n.apply(e,t);function o(e){Y(r,a,s,o,i,"next",e)}function i(e){Y(r,a,s,o,i,"throw",e)}o(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.revealTimeout),clearTimeout(this.waitQuestionTimeout),clearTimeout(this.flipTimeout),clearTimeout(this.damageTimeout),clearTimeout(this.nextTimeout),clearTimeout(this.questionTImeout)}},{key:"onSelect",value:function(e){var t=this;if(!this.waitingCard){this.state.showTour&&this.tourRef.current.setStep(10);var a=Math.abs(this.state.myCard[e]-this.state.enemyCard[e]),s=this.state.streak,r=this.state.myStreak,n="loss";this.state.myCard[e]>this.state.enemyCard[e]?(n="win",r?s+=1:(r=!0,s=1)):0===a?n="tie":r?(r=!1,s=1):s+=1;var o=a;a*=Math.max(s,1);var i=this.state.enemy.life,c=!1;"tie"===n&&this.props.tower.artifacts.includes("Chess Pieces")&&(a=4),this.props.tower.artifacts.forEach((function(e){"Fury Relic"===e&&t.isFirstTurn&&(a*=2),"Toxic Waste"===e&&(a*=2),"win"===n&&"Lifeline Totem"===e&&t.state.myLife<20&&(a*=2)})),this.props.tower.artifacts.forEach((function(e){"loss"===n&&(t.hasShield&&(c=!0,t.hasShield=!1),t.hasShield||c||("Captain's Anchor"===e?a=Math.max(0,a-1):"Steel Socks"===e&&o-t.props.tower.artifacts.filter((function(e){return"Captain's Anchor"===e})).length>0&&(i=Math.max(0,i-2))))})),this.isFirstTurn&&(this.isFirstTurn=!1),this.setState({enemyFlipped:!1,phase:"flipping",attribute:e},(function(){t.flipTimeout=setTimeout((function(){t.setState({result:n,streak:s,myStreak:r,rawDamage:o,usedShield:c,damage:a,phase:"fight"},(function(){t.damageTimeout=setTimeout((function(){t.setState({enemy:W(W({},t.state.enemy),{},{life:"win"===t.state.result||"tie"===t.state.result?Math.max(t.state.enemy.life-t.state.damage,0):i}),myLife:"loss"===t.state.result?Math.max(c?t.state.myLife:t.state.myLife-t.state.damage,0):t.state.myLife},(function(){t.nextTimeout=setTimeout((function(){t.props.setTowerLife(t.state.myLife),0===t.state.enemy.life?t.onWin():0===t.state.myLife?(t.props.setTowerStage("final"),t.props.history.push("/tower/final")):(t.drawCards(),t.state.showTour&&t.tourRef.current.setStep(11))}),3500)}))}),500)}))}),900)}))}}},{key:"onWin",value:function(){if(3===this.props.tower.level&&"boss"===this.props.tower.stage)this.props.addTowerNode(100),this.props.setTowerStage("victory"),this.props.history.push("/tower/victory");else{var e="boss"===this.props.tower.stage?Object(L.q)(70,100):"big"===this.props.tower.stage?Object(L.q)(30,55):Object(L.q)(15,35);this.props.tower.artifacts.forEach((function(t){"Piggy Bank"===t&&(e+=6)})),this.setState({phase:"prize",coins:e})}}},{key:"onAnswer",value:function(e){if(!this.waitingQuestion){this.waitingQuestion=!0;var t=this.state.question.correctAnswers.includes(e),a=JSON.parse(JSON.stringify(this.props.tower.corrects)),s=JSON.parse(JSON.stringify(this.props.tower.incorrects)),r=this.state.question.number;t?a[r]?a[r]+=1:a[r]=1:s[r]?s[r]+=1:s[r]=1,this.props.answerTower(a,s,JSON.parse(JSON.stringify(this.freeQuestions))),this.setState({correct:t,phase:"feedback"})}}},{key:"getQuestion",value:function(){var e=this;0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.questions)));var t=Object(L.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(L.v)(t.answers)),this.waitingQuestion=!0,this.setState({question:t,phase:"question"},(function(){e.waitQuestionTimeout=setTimeout((function(){e.waitingQuestion=!1}),800)}))}},{key:"answerNext",value:function(){var e=this;this.waitingCard=!0,this.state.correct?this.setState({phase:"select"},(function(){e.waitCardTimeout=setTimeout((function(){e.waitingCard=!1}),400)})):this.setState({phase:"enemySelect"},(function(){e.enemyPickTimeout=setTimeout((function(){var t="";if(1===e.props.tower.level||2===e.props.tower.level&&0===Object(L.q)(0,2)){var a=0;Object.entries(e.state.enemyCard).forEach((function(e){var s=G(e,2),r=s[0],n=s[1];"blook"!==r&&n>a&&(t=r,a=n)}))}else{var s=-21;Object.entries(e.state.enemyCard).forEach((function(a){var r=G(a,2),n=r[0],o=r[1];"blook"!==n&&o-e.state.myCard[n]>s&&(t=n,s=o-e.state.myCard[n])}))}e.waitingCard=!1,e.onSelect(t)}),2e3)}))}},{key:"drawCards",value:function(){var e=this;this.waitingCard=!0;var t=JSON.parse(JSON.stringify(this.state.enemy.cards));0===t.length&&(t=JSON.parse(JSON.stringify(this.allEnemyCards)));var a=JSON.parse(JSON.stringify(this.state.myCards));0===a.length&&(a=JSON.parse(JSON.stringify(this.props.tower.cards)));var s=t.splice(Object(L.q)(0,t.length),1),r=a.splice(Object(L.q)(0,a.length),1),n=s[0],o=r[0];this.props.tower.artifacts.includes("Pink Hippo")&&(o.strength=Math.min(o.strength+2,20)),this.props.tower.artifacts.includes("Dave's Doggo")&&(o.charisma=Math.min(o.charisma+2,20)),this.props.tower.artifacts.includes("Anorak's Wizard Cap")&&(o.wisdom=Math.min(o.wisdom+2,20)),this.props.tower.artifacts.includes("Anubis' Obelisk")&&(n.strength=Math.max(n.strength-1,0),n.charisma=Math.max(n.charisma-1,0),n.wisdom=Math.max(n.wisdom-1,0));var i=0;this.props.tower.artifacts.forEach((function(e){"Farm Tractor"===e?"🌽"===o.class?i+=1:"🌴"===o.class&&(i-=1):"Magic Seedling"===e?["🌲","🌴"].includes(o.class)?i+=1:["🌽","🐾"].includes(o.class)&&(i-=1):"Just A Bone"===e?"🐾"===o.class?i+=1:"🌲"===o.class&&(i-=1):"Cozy Igloo"===e?["❄️","☃️"].includes(o.class)?i+=1:["⚔️","🏰"].includes(o.class)&&(i-=1):"King's Crown"===e?"⚔️"===o.class?i+=1:"🏰"===o.class&&(i-=1):"Sacred Scroll"===e&&("🏰"===o.class?i+=1:"⚔️"===o.class&&(i-=1))})),0!==i&&(o.strength=Math.max(0,Math.min(o.strength+i,20)),o.charisma=Math.max(0,Math.min(o.charisma+i,20)),o.wisdom=Math.max(0,Math.min(o.wisdom+i,20))),this.setState({myFlipped:!0,enemyFlipped:!0,phase:"draw"},(function(){e.revealTimeout=setTimeout((function(){e.setState({myFlipped:!1,enemyCard:n,myCard:o,enemy:W(W({},e.state.enemy),{},{cards:t}),myCards:a,attribute:""},(function(){e.state.showTour||(e.questionTimeout=setTimeout((function(){e.getQuestion()}),800))}))}),900)}))}},{key:"selectCard",value:function(e){var t=this,a=U(this.props.tower.cards),s=U(this.props.tower.artifacts),r=this.props.tower.coins;e.blook?(a.push(e),this.props.setTowerCards(a)):(s.push(e),"Elder Coins"!==e||s.includes("Anubis' Obelisk")||(r+=100),this.props.setTowerArtifacts(s)),s.includes("Anubis' Obelisk")||(r+=this.state.coins),this.props.setTowerCoins(r);var n=this.props.tower.mapNodes,o=this.props.tower.level,i=this.props.tower.currentNode,c=this.props.tower.nodePath;"boss"===this.props.tower.stage&&(o+=1,i=0,c=[],n=Object(M.a)(),this.props.newTowerLevel(n));var l=this.state.myLife;s.forEach((function(e){"Medical Kit"===e&&(l=Math.min(100,l+3))})),this.props.setTowerLife(l),this.props.tower.towerId?(d.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,d.a.put("/api/towers/save",{id:this.props.tower.towerId,stage:"map",cards:a,artifacts:s,life:l,coins:r,corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,mapNodes:n,level:o,currentNode:i,nodePath:c}).then((function(){t.props.setTowerStage("map"),t.props.history.push("/tower/map")})).catch((function(e){console.error(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map"))}},{key:"render",value:function(){var e=this;if(this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.tower||!this.props.tower.questions||!this.props.tower.questions.length)return r.a.createElement(u.a,{to:"/login"});var t=Math.min(this.state.rawDamage,this.props.tower.artifacts.filter((function(e){return"Captain's Anchor"===e})).length);return r.a.createElement("div",{className:m.isMobile?y.a.mBody:y.a.body,id:"body",style:{backgroundColor:"#292929",oveflow:"hidden"}},r.a.createElement(b.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),r.a.createElement(v.a,{coins:this.props.tower.coins,showRead:"question"===this.state.phase}),this.state.myCard&&"prize"!==this.state.phase?r.a.createElement("div",{className:y.a.regularBody,id:"regularBody"},this.state.showTour?r.a.createElement(C.a,{steps:T,onExit:function(){return e.setState({showTour:!1},e.getQuestion)},functions:[function(){e.waitingCard=!1,e.setState({phase:"select"})}],ref:this.tourRef}):null,r.a.createElement("div",{className:g.a.myName},"You",r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:m.isMobile?"4vw":"1.5vw"}},this.state.myStreak&&this.state.streak>0?"Streak: ".concat(this.state.streak):null)),r.a.createElement("div",{className:g.a.myLife},r.a.createElement(B.a,{currentLife:this.state.myLife,maxLife:100,top:"0px",left:"0px"})),r.a.createElement("div",{className:g.a.myCircle}),r.a.createElement("div",{className:f()(g.a.cardContainer,g.a.myCard,J({},g.a.myCardAttack,"fight"===this.state.phase&&"win"===this.state.result),J({},g.a.myCardHit,"fight"===this.state.phase&&"loss"===this.state.result)),id:"myCard"},r.a.createElement(j.a,{card:this.state.myCard,flipped:this.state.myFlipped,attribute:this.state.attribute,onClick:"select"===this.state.phase?this.onSelect:void 0})),r.a.createElement("div",{className:g.a.oppCircle}),r.a.createElement("div",{className:f()(g.a.cardContainer,g.a.oppCard,J({},g.a.enemyCardAttack,"fight"===this.state.phase&&"loss"===this.state.result),J({},g.a.enemyCardHit,"fight"===this.state.phase&&"win"===this.state.result)),id:"oppCard"},r.a.createElement(j.a,{card:["flipping","fight","draw"].includes(this.state.phase)?this.state.enemyCard:{},flipped:this.state.enemyFlipped,attribute:this.state.attribute})),r.a.createElement("div",{className:g.a.oppBlookStage}),r.a.createElement(R.a,{name:this.state.enemy.blook,className:g.a.oppBlook}),r.a.createElement("div",{className:g.a.oppName},"Evil ".concat(this.state.enemy.blook),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:m.isMobile?"3vw":"1.6vw"}},!this.state.myStreak&&this.state.streak>0?"Streak: ".concat(this.state.streak):null)),r.a.createElement("div",{className:g.a.oppLife},r.a.createElement(B.a,{currentLife:this.state.enemy.life,maxLife:this.state.enemy.maxLife})),"select"===this.state.phase?r.a.createElement("div",{className:g.a.text},"Choose an attribute on your card"):"enemySelect"===this.state.phase?r.a.createElement("div",{className:g.a.text},"Waiting for the enemy to choose an attribute"):"fight"===this.state.phase?r.a.createElement("div",{className:g.a.text},"win"===this.state.result?"You Win":"loss"===this.state.result?"You Lose":"Tie",r.a.createElement("br",null),"".concat(this.state.rawDamage," x ").concat(Math.round((("tie"===this.state.result?0:this.state.damage)+("loss"!==this.state.result||this.state.usedShield?0:t))/(this.state.rawDamage||1))).concat(t>0&&"loss"===this.state.result&&!this.state.usedShield?" - ".concat(t):""," = ").concat("tie"===this.state.result?0:this.state.damage),r.a.createElement("br",null),this.state.usedShield?"Blocked with Shield":"tie"===this.state.result&&0===this.state.damage?"No Damage Dealt":"".concat("loss"===this.state.result?"Take":"Deal"," ").concat(this.state.damage," Damage")):null):null,"question"===this.state.phase?r.a.createElement("div",{className:g.a.questionContainer},r.a.createElement(z.a,{onAnswer:this.onAnswer,text:this.state.question.text,answers:this.state.question.answers,image:this.state.question.image})):"feedback"===this.state.phase?r.a.createElement("div",{className:g.a.feedbackContainer},r.a.createElement(P.a,{incorrectTime:3,correctAnswers:this.state.question.correctAnswers,correct:this.state.correct,onNext:this.answerNext})):"prize"===this.state.phase?r.a.createElement("div",{className:y.a.regularBody,style:{backgroundColor:"#292929"}},r.a.createElement(A.a,{type:this.props.tower.stage,onClick:this.selectCard,coins:this.state.coins,cards:[].concat(U(this.props.tower.artifacts),U(this.props.tower.cards)),noThird:this.props.tower.artifacts.includes("Pink Hippo")})):null)}}])&&X(t.prototype,a),s&&X(t,s),c}(r.a.Component);ae.propTypes={history:c.a.object.isRequired,tower:c.a.object,answerTower:c.a.func.isRequired,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerCoins:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,newTowerLevel:c.a.func.isRequired,addTowerNode:c.a.func.isRequired,setTowerArtifacts:c.a.func.isRequired,setTowerInstruct:c.a.func.isRequired,user:c.a.object};t.a=Object(S.c)(Object(l.a)(Object(o.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(n.b)({answerTower:I.a,setTowerCards:I.c,setTowerStage:I.g,setTowerCoins:I.d,setTowerLife:I.f,newTowerLevel:N,addTowerNode:O.a,setTowerArtifacts:I.b,setTowerInstruct:I.e},e)}))(ae)))},oDjg:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__questionContainer___2rsvK-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#292929}",""]),t.locals={questionContainer:"styles__questionContainer___2rsvK-camelCase"}},oJE2:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var s=a("dLlt"),r={Chicken:{maxLife:25,deckBlooks:["Chick","Chick","Chicken","Chicken","Duck","Duck","Cow","Pig","Jester","Cheshire Cat"]},Pig:{maxLife:40,deckBlooks:["Pig","Pig","Cow","Cow","Goat","Walrus","Sheep","Horse","Slime Monster","Dormouse"]},Dog:{maxLife:28,deckBlooks:["Dog","Dog","Puppy","Puppy","Bear","Goldfish","Turtle","Moose","Walrus","Gingerbread Man","Eat Me","Two of Spades"]},Cat:{maxLife:30,deckBlooks:["Cat","Cat","Kitten","Kitten","Rabbit","Hamster","Turtle","Tiger","Panther","Unicorn","Cheshire Cat"]},Bear:{maxLife:43,deckBlooks:["Bear","Bear","Polar Bear","Penguin","Orangutan","Moose","Fox","Tiger","Dragon","Queen of Hearts"]},Raccoon:{maxLife:27,deckBlooks:["Raccoon","Raccoon","Raccoon","Fox","Squirrel","Owl","Hedgehog","Anaconda","Goldfish","Jester","Cheshire Cat"]},Tiger:{maxLife:33,deckBlooks:["Tiger","Tiger","Orangutan","Panther","Jaguar","Toucan","Macaw","Horse","Walrus","Queen of Hearts"]},Parrot:{maxLife:32,deckBlooks:["Parrot","Parrot","Macaw","Toucan","Cockatoo","Cockatoo","Owl","Snowy Owl","Tiger","Wizard","Mad Hatter"]},"Arctic Fox":{maxLife:30,deckBlooks:["Arctic Fox","Arctic Fox","Fox","Penguin","Snowy Owl","Polar Bear","Baby Penguin","Arctic Hare","Seal","Walrus","Walrus","Fairy","Drink Me","Alice"]},Panther:{maxLife:35,deckBlooks:["Panther","Panther","Tiger","Orangutan","Owl","Raccoon","Cow","Baby Penguin","Penguin","Kitten","Puppy","Witch","Dormouse"]},Rabbit:{maxLife:41,deckBlooks:["Rabbit","Rabbit","Hamster","Arctic Hare","Baby Penguin","Raccoon","Fox","Puppy","White Rabbit","Squirrel","Cheshire Cat"]},Orangutan:{maxLife:48,deckBlooks:["Orangutan","Orangutan","Orangutan","Orangutan","Orangutan","Orangutan","Orangutan","Orangutan","King of Hearts"]},Witch:{maxLife:65,deckBlooks:["Witch","Witch","Wizard","Wizard","Fairy","Dragon","White Rabbit","Caterpillar","Turtle","Owl","Snowy Owl","Horse"]},"Slime Monster":{maxLife:73,deckBlooks:["Slime Monster","Slime Monster","Bear","Walrus","Tiger","Hedgehog","Wizard","Dragon","Dormouse","Queen of Hearts"]},Dragon:{maxLife:67,deckBlooks:["Dragon","Dragon","Jester","Wizard","Elf","Moose","Jaguar","Tiger","Dormouse","Queen of Hearts","Eat Me"]},"Gingerbread Man":{maxLife:63,deckBlooks:["Gingerbread Man","Gingerbread Man","Snow Globe","Holiday Gift","Hot Chocolate","Holiday Wreath","Gingerbread House","Gingerbread House","Snowy Owl","Penguin","Cheshire Cat","Walrus","Polar Bear"]},Elf:{maxLife:56,deckBlooks:["Elf","Elf","Fairy","Slime Monster","Dragon","Anaconda","Turtle","Capuchin","Witch","Two of Spades","Wizard","White Rabbit"]},Jester:{maxLife:58,deckBlooks:["Jester","Jester","Chick","Parrot","Macaw","Slime Monster","Mad Hatter","Cheshire Cat","Eat Me","Drink Me","Queen of Hearts"]},Alice:{maxLife:54,deckBlooks:["Alice","Alice","Cheshire Cat","Drink Me","Eat Me","Two of Spades","Dormouse","White Rabbit","Unicorn","Parrot","Macaw","Seal"]},Unicorn:{maxLife:70,deckBlooks:["Unicorn","Unicorn","Witch","Wizard","Dragon","Queen","White Rabbit","Cheshire Cat","Jester","Caterpillar","Snowman","Horse","Jaguar","Tiger","Orangutan"]},"Santa Claus":{maxLife:90,deckBlooks:["Santa Claus","Santa Claus","Snowman","Snowman","Gingerbread Man","Gingerbread Man","Gingerbread House","Holiday Wreath","Hot Chocolate","Holiday Gift","Snow Globe","Penguin","White Rabbit","Eat Me","Walrus"]},King:{maxLife:130,deckBlooks:["King","King","King of Hearts","King of Hearts","Caterpillar","Unicorn","Santa Claus","Jester","Dragon","Elf","Witch","Wizard","Slime Monster","White Rabbit","Cheshire Cat","Alice","Queen","Two of Spades","Fairy"]}},n={small:["Chicken","Pig","Dog","Cat","Bear","Raccoon","Tiger","Parrot","Arctic Fox","Panther","Rabbit","Orangutan"],big:["Witch","Slime Monster","Dragon","Gingerbread Man","Elf","Jester","Alice"],boss:["Unicorn","Santa Claus","King"]},o=function(e,t){return"boss"===e?n.boss[t-1]:Object(s.o)(n[e])}},p4qa:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s="DELETE_TOWER"},rWVh:function(e,t,a){var s=a("aTwS");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},sVPk:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__blook___eVJXZ-camelCase{width:30vw;position:absolute;top:55%;left:15vw;transform:rotate(-10deg) translateY(-50%)}.styles__textContainer___1Nq62-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:45%;height:90%;left:50%;top:5%}.styles__riskText___1mcqq-camelCase{text-shadow:2px 2px 8px grey;color:#fff;font-family:Nunito,sans-serif;font-weight:700;text-align:center;width:100%;font-size:3.5vw}.styles__buttonContainer___1Q0yn-camelCase{flex-direction:row;justify-content:space-evenly;width:100%;margin-top:3.5vw}.styles__button___2kWWx-camelCase,.styles__buttonContainer___1Q0yn-camelCase{display:flex;align-items:center}.styles__button___2kWWx-camelCase{justify-content:center;color:#fff;font-family:Nunito,sans-serif;font-weight:700;text-align:center;font-size:3vw;padding:.5vw 2vw;margin:0 auto;border:3px solid #fff;border-radius:6px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;transition:.2s}.styles__button___2kWWx-camelCase:hover{transform:scale(1.05)}.styles__lifeContainer___2rgIF-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(.6)}@media only screen and (max-width:600px){.styles__lifeContainer___2rgIF-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__blook___eVJXZ-camelCase{width:50vw;top:7.5%;left:50%;transform:rotate(-10deg) translateX(-50%)}.styles__textContainer___1Nq62-camelCase{width:90%;height:50%;left:5%;top:55%}.styles__riskText___1mcqq-camelCase{font-size:6.75vw;line-height:6.95vw}.styles__buttonContainer___1Q0yn-camelCase{margin-top:5vw}.styles__button___2kWWx-camelCase{font-size:6vw;padding:1.5vw 3.5vw}.styles__button___2kWWx-camelCase:hover{transform:scale(1)}}",""]),t.locals={blook:"styles__blook___eVJXZ-camelCase",textContainer:"styles__textContainer___1Nq62-camelCase",riskText:"styles__riskText___1mcqq-camelCase",buttonContainer:"styles__buttonContainer___1Q0yn-camelCase",button:"styles__button___2kWWx-camelCase",lifeContainer:"styles__lifeContainer___2rgIF-camelCase"}},t6Dp:function(e,t,a){"use strict";var s=a("mXGw"),r=a.n(s),n=a("cnbf"),o=a("/m4v"),i=a("W0B4"),c=a.n(i),l=a("FbNb"),u=a("aEK/"),m=a("czhI"),p=a.n(m),f=a("4Ebc"),_=a("8Jek"),d=a.n(_),h=a("BsL1");function y(e,t,a,s,r,n){return{type:h.a,towerId:e,resultId:t,questions:a,mapNodes:s,setId:r,hwId:n}}function w(e,t,a,s,r,n){return{type:h.b,saveData:e,towerId:t,resultId:a,questions:s,setId:r,hwId:n}}var g=a("PZzA"),v=a("0iT3"),b=a("MrcB"),C=a("I/uU"),x=a("9xwJ"),k=a.n(x),T=a("vz16"),S=a.n(T),E=a("oi/j"),N=a("z6Is"),O=a("iE/P"),I=a("KS4/"),j=a("cGkC"),R=a("GUYC"),B=a("Cr9M"),z=a("n/x7"),P=a("6I7g");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t,a,s,r,n,o){try{var i=e[n](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function H(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var n=e.apply(t,a);function o(e){L(n,s,r,o,i,"next",e)}function i(e){L(n,s,r,o,i,"throw",e)}o(void 0)}))}}function G(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=F(e);if(t){var r=F(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return J(this,a)}}function J(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){switch(e){case"small":return"fas fa-robot";case"big":return"fas fa-skull";case"shop":return"fas fa-store";case"rest":return"fas fa-bed";case"risk":return"fas fa-question";case"boss":return"fas fa-exclamation-triangle";default:return"fas fa-map"}},Y=function(e){return r.a.createElement("div",{className:S.a.stageText},33===e.stagesCleared?"You Won!":"".concat(e.stagesCleared," ").concat(1===e.stagesCleared?"Stage":"Stages"))},X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,a,s,n,o=W(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={questions:[],ready:!1,isSave:!1,warn:!1,loggedIn:!1,savesPhase:!1,savesArray:[],loading:!1,replaceIndex:0,name:"",nameUsed:"",numCorrect:0,numQuestions:0,stagesCleared:0,message:"",showFinal:!1,standings:[],noId:!1,noIdPopUp:!1,noQuestions:!1},t.redirect=!1,t.name="",t.stripe="",t.working=!0,t.here=!0,t.loadGame=t.loadGame.bind(U(t)),t.newGame=t.newGame.bind(U(t)),t.endGame=t.endGame.bind(U(t)),t}return t=i,(a=[{key:"componentDidMount",value:(n=H(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.deleteTower(),e.next=3,this.props.user.getData();case 3:(t=e.sent)?(this.name=t.name,this.stripe=t.stripe,this.setState({loggedIn:!0}),p.a.get("/api/towers/byuser",{params:{name:this.name}}).then((function(e){a.here&&a.setState({isSave:e.data.success&&!(a.props.client&&a.props.client.hwId&&a.props.client.questions),savesArray:e.data.success?e.data.savesArray:[null,null,null]},(function(){a.working=!1}))})).catch((function(e){console.error(e)}))):this.setState({notLoggedIn:!0}),this.props.client&&this.props.client.hwId&&this.props.client.questions?(this.working=!1,this.setState({questions:this.props.client.questions,ready:!0})):this.props.id?p.a.get("/api/games",{params:{gameId:this.props.id}}).then((function(e){a.here&&a.setState({questions:e.data.questions.map((function(e){return{text:e.question,answers:e.answers,correctAnswers:e.correctAnswers,number:e.number,random:e.random,image:e.image?e.image.url:null}})),ready:!0})})).catch((function(e){console.error(e)})):this.setState({noId:!0,ready:!0});case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1}},{key:"loadGame",value:function(e){if(this.state.ready&&!this.working){this.working=!0;var t=this.state.savesArray[e],a=[],s=!1,r=this;!function(){n.apply(this,arguments)}()}function n(){return(n=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.setId){e.next=9;break}if(!r.state.noId){e.next=6;break}return e.next=4,new Promise((function(e){p.a.get("/api/games",{params:{gameId:t.setId}}).then((function(t){t.data?a=t.data.questions.map((function(e){return{text:e.question,answers:e.answers,correctAnswers:e.correctAnswers,number:e.number,random:e.random,image:e.image?e.image.url:null}})):s=!0,e()})).catch((function(e){console.error(e)}))}));case 4:e.next=7;break;case 6:a=r.state.questions;case 7:e.next=11;break;case 9:return e.next=11,new Promise((function(e){p.a.get("/api/homeworks/byid",{params:{id:t.hwId}}).then((function(t){t.data?a=t.data.questions:r.state.noId?s=!0:a=r.state.questions,e()})).catch((function(e){console.error(e)}))}));case 11:if(!s){e.next=15;break}return r.setState({noIdPopUp:!0,noQuestions:!0}),r.working=!1,e.abrupt("return");case 15:t.hwName&&(r.props.addClientName(t.hwName),r.props.addHwClient(t.hwId,"Tower",0,t.hwPlus)),r.props.loadTower(t,t._id,t.resultId,a,t.setId,t.hwId),["small","big","boss"].includes(t.stage)?r.props.history.push("/tower/battle"):"victory"===t.stage?(r.props.setTowerStage("final"),r.props.history.push("/tower/final")):r.props.history.push("/tower/".concat(t.stage));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},{key:"newGame",value:function(e){if(this.state.ready&&!this.working){this.working=!0;var t=Object(P.a)(),a=this;!function(){s.apply(this,arguments)}()}function s(){return(s=H(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r="",!a.props.client||!a.props.client.hwId){s.next=4;break}return s.next=4,new Promise((function(e,t){p.a.post("/api/results",{hwId:a.props.client.hwId,name:a.props.client.name,data:{corrects:{},incorrects:{},stage:0,alive:!0}}).then((function(t){r=t.data._id,e()})).catch((function(e){console.error(e),t()}))}));case 4:if(n={},!a.name){s.next=9;break}return s.next=8,new Promise((function(s,n){p.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,p.a.post("/api/towers",{setId:a.props.id,name:a.name,mapNodes:t,hwId:a.props.client&&a.props.client.hwId?a.props.client.hwId:null,hwName:a.props.client&&a.props.client.name?a.props.client.name:null,hwPlus:!(!a.props.client||!a.props.client.plus)&&a.props.client.plus,saveIndex:e,resultId:r}).then((function(e){localStorage.setItem("token",e.data.token),s(e.data)})).catch((function(e){console.error(e),n()}))}));case 8:n=s.sent;case 9:a.props.createTower(n.newSaveId,r,a.state.questions,t,a.props.id,a.props.client&&a.props.client.hwId?a.props.client.hwId:null),n.oldSave&&n.oldSave.stage?a.endGame(n.oldSave):a.props.history.push("/tower/start");case 11:case"end":return s.stop()}}),s)})))).apply(this,arguments)}}},{key:"endGame",value:function(e){var t=this;p.a.put("/api/users/plan",{name:this.name,stripeId:this.stripe}).then((function(e){t.here&&t.setState({showFinal:!0,plus:"Starter"!==e.data.plan})})).catch((function(e){console.error(e)}));var a=e.hwName||"You",s=0,r=0;Object.values(e.corrects).forEach((function(e){s+=e,r+=e})),Object.values(e.incorrects).forEach((function(e){r+=e}));var n=Math.max(e.numNodes,0),o=34-n,i="Chick",c=0;e.cards.forEach((function(e){var t=e.strength+e.charisma+e.wisdom;t>c&&(c=t,i=e.blook)})),p.a.defaults.headers.common.Authorization="undefined"!=typeof window?localStorage.getItem("token"):null,p.a.put("/api/users/towerstats",{name:this.name,place:o,stagesCleared:n,blookUsed:i,nameUsed:a,correctAnswers:s}).catch((function(e){console.error(e)})),this.setState({warn:!1,name:this.name,nameUsed:a,numCorrect:s,numQuestions:r,stagesCleared:n,message:Object(R.a)((o-1)/33),showFinal:!this.name||this.state.showFinal,standings:[{name:a,blook:i,place:o,stagesCleared:n}]})}},{key:"render",value:function(){var e=this;return this.props.client&&this.props.client.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||this.state.ready&&(!this.state.questions||0===this.state.questions.length)&&!this.state.noId?r.a.createElement(u.a,{to:"/login"}):r.a.createElement("div",{className:f.isMobile?k.a.mBody:k.a.body,style:{backgroundColor:"#292929"}},r.a.createElement(N.a,{title:"Load Tower of Doom | Blooket",desc:"Start a new game or load a saved game of Blooket's Tower of Doom."}),r.a.createElement(E.a,{noRight:!0}),this.state.savesPhase?r.a.createElement("div",{className:k.a.regularBody},r.a.createElement("div",{className:S.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({savesPhase:!1,loading:!1})}},"Back"),r.a.createElement("div",{className:S.a.savesHeader},this.state.loading?"Choose a Save":"Choose a Save Slot"),r.a.createElement("div",{className:S.a.savesHolder},this.state.savesArray.map((function(t,a){return t?r.a.createElement("div",{className:S.a.saveContainer,key:t._id},r.a.createElement("div",{className:S.a.saveTitle},"Stage ".concat(t.nodePath.length)),r.a.createElement("div",{className:S.a.saveSubTitle},"Level ".concat(t.level)),r.a.createElement("div",{className:S.a.saveRow},t.coins,r.a.createElement("i",{className:d()(S.a.saveIcon,"fas fa-coins")})),r.a.createElement("div",{className:S.a.saveRow},t.stage.charAt(0).toUpperCase()+t.stage.slice(1),r.a.createElement("i",{className:d()(S.a.saveIcon,K(t.stage))})),r.a.createElement("div",{className:S.a.saveRow},t.hwName||"Not Homework",r.a.createElement("i",{className:d()(S.a.saveIcon,"fas fa-file-alt")})),r.a.createElement("div",{className:S.a.saveRow},r.a.createElement("div",{className:S.a.saveHealthHolder},r.a.createElement("div",{className:S.a.saveHealthBar,style:{transform:"scaleX(".concat(t.life/100,")")}})),r.a.createElement("i",{className:d()(S.a.saveIcon,"fas fa-heart")})),r.a.createElement("div",{className:S.a.loadButton,role:"button",tabIndex:0,onClick:e.state.loading?function(){return e.loadGame(a)}:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.setState({warn:!0,replaceIndex:a})}},e.state.loading?"Load Game":"Replace Game")):r.a.createElement("div",{className:S.a.saveContainer,key:a},r.a.createElement("div",{className:S.a.emptySave},"Empty"),e.state.loading?null:r.a.createElement("div",{className:S.a.loadButton,role:"button",tabIndex:0,onClick:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.newGame(a)}},"New Game"))})))):r.a.createElement("div",{className:k.a.regularBody,style:{display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"}},r.a.createElement("div",{className:S.a.header},"Tower",r.a.createElement("br",null),"of Doom"),r.a.createElement("div",{className:S.a.buttonContainer},this.state.isSave?r.a.createElement("div",{className:S.a.button,role:"button",tabIndex:0,onClick:function(){return e.setState({savesPhase:!0,loading:!0})}},"Load Game"):null,r.a.createElement("div",{className:S.a.button,role:"button",tabIndex:0,onClick:this.state.loggedIn?function(){return e.setState({savesPhase:!0,loading:!1})}:this.newGame},"New Game")),r.a.createElement("div",{className:d()(S.a.cardContainer,S.a.card1)},r.a.createElement(B.a,{card:q({blook:"Chicken"},z.c.Chicken),flipped:!1})),r.a.createElement("div",{className:d()(S.a.cardContainer,S.a.card2)},r.a.createElement(B.a,{card:q({blook:"Goldfish"},z.c.Goldfish),flipped:!1})),r.a.createElement("div",{className:d()(S.a.cardContainer,S.a.card3)},r.a.createElement(B.a,{card:q({blook:"Wizard"},z.c.Wizard),flipped:!1})),r.a.createElement("div",{className:d()(S.a.cardContainer,S.a.card4)},r.a.createElement(B.a,{card:q({blook:"Tiger"},z.c.Tiger),flipped:!1})),r.a.createElement("div",{className:d()(S.a.cardContainer,S.a.card5)},r.a.createElement(B.a,{card:q({blook:"Arctic Fox"},z.c["Arctic Fox"]),flipped:!1})),this.state.loggedIn?r.a.createElement("div",{className:S.a.loginText},"Your progress will automatically be saved"):r.a.createElement("div",{className:S.a.loginText},r.a.createElement("a",{href:"https://www.blooket.com/login",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff"}},"Login")," to save your progress")),this.state.warn?r.a.createElement(I.a,{text:"Starting a new game will delete this save! Don't worry though, we'll give you the tokens for your old save right now!",isDark:!0,buttonOne:{text:"Continue",click:function(){return e.newGame(e.state.replaceIndex)},color:"white"},buttonTwo:{text:"Go Back",click:function(){return e.setState({warn:!1})},color:"white"}}):this.state.noIdPopUp?r.a.createElement(I.a,{text:this.state.noQuestions?"This save doesn't have an associated question set. Go find a set, click 'Solo', and try again!":"You need a question set to create a new game!",isDark:!0,buttonOne:{text:"Find A Set",click:function(){return e.props.history.push("/discover")},color:"white"},buttonTwo:{text:"Go Back",click:function(){return e.setState({noIdPopUp:!1,noQuestions:!1})},color:"white"}}):null,this.state.showFinal?r.a.createElement("div",{className:k.a.modal},r.a.createElement(j.a,{standings:this.state.standings,name:this.state.nameUsed,numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:33===this.state.stagesCleared?"You Won!":"Cleared ".concat(this.state.stagesCleared," ").concat(1===this.state.stagesCleared?"Stage":"Stages"),saveStats:this.saveStats,renderStandingStat:Y,renderStats:function(){},customMessage:this.state.message,tokenMultiplier:.3,buttonFunc:function(){return e.props.history.push("/tower/start")},noWait:!0})):null)}}])&&G(t.prototype,a),s&&G(t,s),i}(r.a.Component);X.propTypes={client:c.a.object,history:c.a.object.isRequired,id:c.a.string,deleteTower:c.a.func.isRequired,user:c.a.object};t.a=Object(O.c)(Object(l.a)(Object(o.b)((function(e){return{id:e.hosts.id,client:e.clients.client}}),(function(e){return Object(n.b)({createTower:y,loadTower:w,deleteTower:v.a,setTowerStage:g.g,addClientName:C.a,addHwClient:b.b},e)}))(X)))},tDrI:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r}));var s="SET_TOWER_ENEMY",r="ADD_TOWER_NODE"},tv2z:function(e,t,a){(t=e.exports=a("Ai0b")(!1)).push([e.i,".styles__welcomeText___3FSVm-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:7vw;position:absolute;width:80%;top:50%;left:10%;transform:translateY(-50%);text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-animation:styles__fadeIn___3Hi2k-camelCase .3s;animation:styles__fadeIn___3Hi2k-camelCase .3s}.styles__questionContainer___dCiqz-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#292929}.styles__lifeContainer___2SpUL-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(.6)}.styles__deckButton___QrxyQ-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;right:1vw;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__deckButton___QrxyQ-camelCase:hover{transform:scale(1.05)}.styles__deckIcon___1xl95-camelCase{font-size:27px;margin-right:10px}.styles__deckIcon___1xl95-camelCase,.styles__deckText___WhV2P-camelCase{text-shadow:2px 2px 8px grey}.styles__deckText___WhV2P-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:30px}.styles__deckContainer___Duer5-camelCase{position:absolute;top:0;left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;background-color:rgba(0,0,0,.8);z-index:3;display:flex;flex-flow:row wrap}.styles__cardContainer___kC0KB-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw}.styles__closeIcon___2GClL-camelCase{font-size:30px;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;top:1vw;right:1vw;color:#fff;transition:.3s}.styles__closeIcon___2GClL-camelCase:focus,.styles__closeIcon___2GClL-camelCase:hover{transform:scale(1.05)}.styles__chooseText___21ei4-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:6vw;bottom:70%;text-align:center;-webkit-animation:styles__fadeIn___3Hi2k-camelCase .3s;animation:styles__fadeIn___3Hi2k-camelCase .3s}.styles__chooseText___21ei4-camelCase,.styles__restButtonContainer___1GHh5-camelCase{position:absolute;width:80%;left:10%}.styles__restButtonContainer___1GHh5-camelCase{flex-flow:row wrap;top:40%;opacity:0;-webkit-animation:styles__fadeIn___3Hi2k-camelCase .3s linear .2s forwards;animation:styles__fadeIn___3Hi2k-camelCase .3s linear .2s forwards}.styles__restButton___3mQg8-camelCase,.styles__restButtonContainer___1GHh5-camelCase{display:flex;align-items:center;justify-content:center}.styles__restButton___3mQg8-camelCase{width:17.5vw;height:17.5vw;margin:2vw 4vw;border-radius:6px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;flex-direction:column;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;font-size:3vw;transition:.2s}.styles__restButton___3mQg8-camelCase:hover{transform:scale(1.03)}.styles__buttonIcon___17XSn-camelCase{font-size:6vw;margin-bottom:.75vw}.styles__upgradeDeckContainer___3OvCX-camelCase{position:absolute;top:calc(10% + 3vw);left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;z-index:3;display:flex;flex-flow:row wrap}.styles__upgradeCardContainer___1HMM4-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;transition:.2s}.styles__upgradeCardContainer___1HMM4-camelCase:hover{transform:scale(.75)}.styles__upgradeText___jXGGF-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:5vw;position:absolute;width:80%;top:5%;left:10%;text-align:center;-webkit-animation:styles__fadeIn___3Hi2k-camelCase .3s;animation:styles__fadeIn___3Hi2k-camelCase .3s}.styles__lifeHealContainer___11eJo-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(1.5);top:calc(60% - 7.5vw);left:calc(50% - 7.5vw)}.styles__cardReveal___haU6a-camelCase{width:25vw;height:32.5vw;position:absolute;top:calc(50% - 12vw);left:calc(50% - 12.5vw);-webkit-animation:styles__spinReveal___2gjC3-camelCase 4s ease-in-out .5s;animation:styles__spinReveal___2gjC3-camelCase 4s ease-in-out .5s}@-webkit-keyframes styles__spinReveal___2gjC3-camelCase{0%{transform:rotateY(0deg)}to{transform:rotateY(10turn)}}@keyframes styles__spinReveal___2gjC3-camelCase{0%{transform:rotateY(0deg)}to{transform:rotateY(10turn)}}@-webkit-keyframes styles__fadeIn___3Hi2k-camelCase{0%{opacity:0}to{opacity:1}}@keyframes styles__fadeIn___3Hi2k-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-width:600px){.styles__welcomeText___3FSVm-camelCase{font-size:12vw}.styles__lifeContainer___2SpUL-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__deckButton___QrxyQ-camelCase{right:0}.styles__deckButton___QrxyQ-camelCase,.styles__deckButton___QrxyQ-camelCase:hover{transform:scale(.8)}.styles__cardContainer___kC0KB-camelCase{transform:scale(1.1);margin:2.5vw 2vw}.styles__closeIcon___2GClL-camelCase{top:2vw;right:2vw}.styles__chooseText___21ei4-camelCase{font-size:54px;bottom:60%}.styles__restButton___3mQg8-camelCase{margin:auto}.styles__restButton___3mQg8-camelCase,.styles__restButton___3mQg8-camelCase:hover{transform:scale(1.5)}.styles__restButtonContainer___1GHh5-camelCase{top:55%;left:5%;width:90%}.styles__upgradeText___jXGGF-camelCase{font-size:9.25vw;top:6.5%}.styles__upgradeDeckContainer___3OvCX-camelCase{top:17.5%;align-content:flex-start;min-height:75%;width:95%;padding:5% 2.5%}.styles__upgradeCardContainer___1HMM4-camelCase{width:25vw;height:32.5vw;transform:scale(.95);margin:2vw 3vw}.styles__upgradeCardContainer___1HMM4-camelCase:hover{transform:scale(.95)}.styles__lifeHealContainer___11eJo-camelCase{transform:scale(2.5)}.styles__cardReveal___haU6a-camelCase{transform:scale(1.5);-webkit-animation:styles__spinReveal___2gjC3-camelCase 4s ease-in-out .5s;animation:styles__spinReveal___2gjC3-camelCase 4s ease-in-out .5s}@-webkit-keyframes styles__spinReveal___2gjC3-camelCase{0%{transform:scale(1.5) rotateY(0deg)}to{transform:scale(1.5) rotateY(10turn)}}@keyframes styles__spinReveal___2gjC3-camelCase{0%{transform:scale(1.5) rotateY(0deg)}to{transform:scale(1.5) rotateY(10turn)}}}",""]),t.locals={welcomeText:"styles__welcomeText___3FSVm-camelCase",fadeIn:"styles__fadeIn___3Hi2k-camelCase",questionContainer:"styles__questionContainer___dCiqz-camelCase",lifeContainer:"styles__lifeContainer___2SpUL-camelCase",deckButton:"styles__deckButton___QrxyQ-camelCase",deckIcon:"styles__deckIcon___1xl95-camelCase",deckText:"styles__deckText___WhV2P-camelCase",deckContainer:"styles__deckContainer___Duer5-camelCase",cardContainer:"styles__cardContainer___kC0KB-camelCase",closeIcon:"styles__closeIcon___2GClL-camelCase",chooseText:"styles__chooseText___21ei4-camelCase",restButtonContainer:"styles__restButtonContainer___1GHh5-camelCase",restButton:"styles__restButton___3mQg8-camelCase",buttonIcon:"styles__buttonIcon___17XSn-camelCase",upgradeDeckContainer:"styles__upgradeDeckContainer___3OvCX-camelCase",upgradeCardContainer:"styles__upgradeCardContainer___1HMM4-camelCase",upgradeText:"styles__upgradeText___jXGGF-camelCase",lifeHealContainer:"styles__lifeHealContainer___11eJo-camelCase",cardReveal:"styles__cardReveal___haU6a-camelCase",spinReveal:"styles__spinReveal___2gjC3-camelCase"}},"u6+k":function(e,t,a){var s=a("IHfv");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)},vz16:function(e,t,a){var s=a("mjaa");"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("UezQ")(s,r);s.locals&&(e.exports=s.locals)}});
